{
  "version": 3,
  "sources": ["../node_modules/vscode-languageserver/lib/common/utils/is.js", "../node_modules/vscode-jsonrpc/lib/common/ral.js", "../node_modules/vscode-jsonrpc/lib/common/disposable.js", "../node_modules/vscode-jsonrpc/lib/common/messageBuffer.js", "../node_modules/vscode-jsonrpc/lib/node/ril.js", "../node_modules/vscode-jsonrpc/lib/common/is.js", "../node_modules/vscode-jsonrpc/lib/common/messages.js", "../node_modules/vscode-jsonrpc/lib/common/events.js", "../node_modules/vscode-jsonrpc/lib/common/cancellation.js", "../node_modules/vscode-jsonrpc/lib/common/messageReader.js", "../node_modules/vscode-jsonrpc/lib/common/semaphore.js", "../node_modules/vscode-jsonrpc/lib/common/messageWriter.js", "../node_modules/vscode-jsonrpc/lib/common/linkedMap.js", "../node_modules/vscode-jsonrpc/lib/common/connection.js", "../node_modules/vscode-jsonrpc/lib/common/api.js", "../node_modules/vscode-jsonrpc/lib/node/main.js", "../node_modules/vscode-jsonrpc/node.js", "../node_modules/vscode-languageserver-types/lib/umd/main.js", "../node_modules/vscode-languageserver-protocol/lib/common/messages.js", "../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js", "../node_modules/vscode-languageserver-protocol/lib/common/protocol.js", "../node_modules/vscode-languageserver-protocol/lib/common/connection.js", "../node_modules/vscode-languageserver-protocol/lib/common/api.js", "../node_modules/vscode-languageserver-protocol/lib/node/main.js", "../node_modules/vscode-languageserver/lib/common/utils/uuid.js", "../node_modules/vscode-languageserver/lib/common/progress.js", "../node_modules/vscode-languageserver/lib/common/configuration.js", "../node_modules/vscode-languageserver/lib/common/workspaceFolders.js", "../node_modules/vscode-languageserver/lib/common/callHierarchy.js", "../node_modules/vscode-languageserver/lib/common/semanticTokens.js", "../node_modules/vscode-languageserver/lib/common/showDocument.js", "../node_modules/vscode-languageserver/lib/common/fileOperations.js", "../node_modules/vscode-languageserver/lib/common/linkedEditingRange.js", "../node_modules/vscode-languageserver/lib/common/moniker.js", "../node_modules/vscode-languageserver/lib/common/server.js", "../node_modules/vscode-languageserver/lib/node/files.js", "../node_modules/vscode-languageserver-protocol/node.js", "../node_modules/vscode-languageserver/lib/common/api.js", "../node_modules/vscode-languageserver/lib/node/main.js", "../node_modules/vscode-languageserver/node.js", "../node_modules/vscode-languageserver-textdocument/lib/umd/main.js", "../src/main.ts", "../src/bugsPeg.ts", "../src/prettyPrinter.ts", "../src/Seq.ts", "../src/BUGSKit.ts"],
  "sourcesContent": ["\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n//# sourceMappingURL=is.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            return setTimeout(callback, ms, ...args);\n        },\n        clearTimeout(handle) {\n            clearTimeout(handle);\n        },\n        setImmediate(callback, ...args) {\n            return setImmediate(callback, ...args);\n        },\n        clearImmediate(handle) {\n            clearImmediate(handle);\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isResponseMessage = exports.isNotificationMessage = exports.isRequestMessage = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = ErrorCodes.jsonrpcReservedErrorRangeStart;\n    ErrorCodes.MessageWriteError = -32099;\n    ErrorCodes.MessageReadError = -32098;\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = ErrorCodes.jsonrpcReservedErrorRangeEnd;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        return {\n            code: this.code,\n            message: this.message,\n            data: this.data,\n        };\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\n/**\n * Tests if the given message is a request message\n */\nfunction isRequestMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n}\nexports.isRequestMessage = isRequestMessage;\n/**\n * Tests if the given message is a notification message\n */\nfunction isNotificationMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && message.id === void 0;\n}\nexports.isNotificationMessage = isNotificationMessage;\n/**\n * Tests if the given message is a response message\n */\nfunction isResponseMessage(message) {\n    const candidate = message;\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n}\nexports.isResponseMessage = isResponseMessage;\n//# sourceMappingURL=messages.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                ral_1.default().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        var _a;\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\n        }\n        else {\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        var _a, _b;\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\n        }\n        else {\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[Symbol.toStringTag] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        var _a;\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    get last() {\n        var _a;\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSquenceNumber = 0;\n    let unknownResponseSquenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = Object.create(null);\n    let starNotificationHandler = undefined;\n    const notificationHandlers = Object.create(null);\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = Object.create(null);\n    let requestTokens = Object.create(null);\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSquenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.isRequestMessage(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.isResponseMessage(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = ral_1.default().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.isRequestMessage(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.isNotificationMessage(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.isResponseMessage(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\n                const key = createRequestQueueKey(message.params.id);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.isRequestMessage(toCancel)) {\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response);\n                        return;\n                    }\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers[requestMessage.method];\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = String(requestMessage.id);\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            requestTokens[tokenKey] = cancellationSource;\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    delete requestTokens[tokenKey];\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        delete requestTokens[tokenKey];\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        delete requestTokens[tokenKey];\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    delete requestTokens[tokenKey];\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                delete requestTokens[tokenKey];\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = String(responseMessage.id);\n            const responsePromise = responsePromises[key];\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise) {\n                delete responsePromises[key];\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            notificationHandler = (params) => {\n                const id = params.id;\n                const source = requestTokens[String(id)];\n                if (source) {\n                    source.cancel();\n                }\n            };\n        }\n        else {\n            const element = notificationHandlers[message.method];\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        if (type !== undefined) {\n                            if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                            }\n                            if (type.numberOfParams !== message.params.length) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`);\n                            }\n                        }\n                        notificationHandler(...message.params);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = String(responseMessage.id);\n            const responseHandler = responsePromises[key];\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n                break;\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Recevied parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            messageWriter.write(notificationMessage);\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers[type] = { type: undefined, handler };\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        delete notificationHandlers[method];\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    cancellationStrategy.sender.sendCancellation(connection, id);\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage);\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises[String(id)] = responsePromise;\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers[type] = { handler: handler, type: undefined };\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        delete requestHandlers[method];\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new Error('Connection got disposed.');\n            Object.keys(responsePromises).forEach((key) => {\n                responsePromises[key].reject(error);\n            });\n            responsePromises = Object.create(null);\n            requestTokens = Object.create(null);\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            ral_1.default().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.RAL = void 0;\nexports.CancellationStrategy = void 0;\nconst messages_1 = require(\"../common/messages\");\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst disposable_1 = require(\"../common/disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"../common/events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"../common/cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"../common/messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"../common/messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"../common/connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super(ril_1.default().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super(ril_1.default().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        ril_1.default().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = net_1.createConnection(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = net_1.createConnection(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return api_1.createMessageConnection(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');", "(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(require, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    /* --------------------------------------------------------------------------------------------\n     * Copyright (c) Microsoft Corporation. All rights reserved.\n     * Licensed under the MIT License. See License.txt in the project root for license information.\n     * ------------------------------------------------------------------------------------------ */\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.TextDocument = exports.EOL = exports.SelectionRange = exports.DocumentLink = exports.FormattingOptions = exports.CodeLens = exports.CodeAction = exports.CodeActionContext = exports.CodeActionKind = exports.DocumentSymbol = exports.SymbolInformation = exports.SymbolTag = exports.SymbolKind = exports.DocumentHighlight = exports.DocumentHighlightKind = exports.SignatureInformation = exports.ParameterInformation = exports.Hover = exports.MarkedString = exports.CompletionList = exports.CompletionItem = exports.InsertTextMode = exports.InsertReplaceEdit = exports.CompletionItemTag = exports.InsertTextFormat = exports.CompletionItemKind = exports.MarkupContent = exports.MarkupKind = exports.TextDocumentItem = exports.OptionalVersionedTextDocumentIdentifier = exports.VersionedTextDocumentIdentifier = exports.TextDocumentIdentifier = exports.WorkspaceChange = exports.WorkspaceEdit = exports.DeleteFile = exports.RenameFile = exports.CreateFile = exports.TextDocumentEdit = exports.AnnotatedTextEdit = exports.ChangeAnnotationIdentifier = exports.ChangeAnnotation = exports.TextEdit = exports.Command = exports.Diagnostic = exports.CodeDescription = exports.DiagnosticTag = exports.DiagnosticSeverity = exports.DiagnosticRelatedInformation = exports.FoldingRange = exports.FoldingRangeKind = exports.ColorPresentation = exports.ColorInformation = exports.Color = exports.LocationLink = exports.Location = exports.Range = exports.Position = exports.uinteger = exports.integer = void 0;\n    var integer;\n    (function (integer) {\n        integer.MIN_VALUE = -2147483648;\n        integer.MAX_VALUE = 2147483647;\n    })(integer = exports.integer || (exports.integer = {}));\n    var uinteger;\n    (function (uinteger) {\n        uinteger.MIN_VALUE = 0;\n        uinteger.MAX_VALUE = 2147483647;\n    })(uinteger = exports.uinteger || (exports.uinteger = {}));\n    /**\n     * The Position namespace provides helper functions to work with\n     * [Position](#Position) literals.\n     */\n    var Position;\n    (function (Position) {\n        /**\n         * Creates a new Position literal from the given line and character.\n         * @param line The position's line.\n         * @param character The position's character.\n         */\n        function create(line, character) {\n            if (line === Number.MAX_VALUE) {\n                line = uinteger.MAX_VALUE;\n            }\n            if (character === Number.MAX_VALUE) {\n                character = uinteger.MAX_VALUE;\n            }\n            return { line: line, character: character };\n        }\n        Position.create = create;\n        /**\n         * Checks whether the given literal conforms to the [Position](#Position) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n        }\n        Position.is = is;\n    })(Position = exports.Position || (exports.Position = {}));\n    /**\n     * The Range namespace provides helper functions to work with\n     * [Range](#Range) literals.\n     */\n    var Range;\n    (function (Range) {\n        function create(one, two, three, four) {\n            if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n                return { start: Position.create(one, two), end: Position.create(three, four) };\n            }\n            else if (Position.is(one) && Position.is(two)) {\n                return { start: one, end: two };\n            }\n            else {\n                throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n            }\n        }\n        Range.create = create;\n        /**\n         * Checks whether the given literal conforms to the [Range](#Range) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n        }\n        Range.is = is;\n    })(Range = exports.Range || (exports.Range = {}));\n    /**\n     * The Location namespace provides helper functions to work with\n     * [Location](#Location) literals.\n     */\n    var Location;\n    (function (Location) {\n        /**\n         * Creates a Location literal.\n         * @param uri The location's uri.\n         * @param range The location's range.\n         */\n        function create(uri, range) {\n            return { uri: uri, range: range };\n        }\n        Location.create = create;\n        /**\n         * Checks whether the given literal conforms to the [Location](#Location) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n        }\n        Location.is = is;\n    })(Location = exports.Location || (exports.Location = {}));\n    /**\n     * The LocationLink namespace provides helper functions to work with\n     * [LocationLink](#LocationLink) literals.\n     */\n    var LocationLink;\n    (function (LocationLink) {\n        /**\n         * Creates a LocationLink literal.\n         * @param targetUri The definition's uri.\n         * @param targetRange The full range of the definition.\n         * @param targetSelectionRange The span of the symbol definition at the target.\n         * @param originSelectionRange The span of the symbol being defined in the originating source file.\n         */\n        function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n            return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n        }\n        LocationLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n                && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n                && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n        }\n        LocationLink.is = is;\n    })(LocationLink = exports.LocationLink || (exports.LocationLink = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * [Color](#Color) literals.\n     */\n    var Color;\n    (function (Color) {\n        /**\n         * Creates a new Color literal.\n         */\n        function create(red, green, blue, alpha) {\n            return {\n                red: red,\n                green: green,\n                blue: blue,\n                alpha: alpha,\n            };\n        }\n        Color.create = create;\n        /**\n         * Checks whether the given literal conforms to the [Color](#Color) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.numberRange(candidate.red, 0, 1)\n                && Is.numberRange(candidate.green, 0, 1)\n                && Is.numberRange(candidate.blue, 0, 1)\n                && Is.numberRange(candidate.alpha, 0, 1);\n        }\n        Color.is = is;\n    })(Color = exports.Color || (exports.Color = {}));\n    /**\n     * The ColorInformation namespace provides helper functions to work with\n     * [ColorInformation](#ColorInformation) literals.\n     */\n    var ColorInformation;\n    (function (ColorInformation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(range, color) {\n            return {\n                range: range,\n                color: color,\n            };\n        }\n        ColorInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Range.is(candidate.range) && Color.is(candidate.color);\n        }\n        ColorInformation.is = is;\n    })(ColorInformation = exports.ColorInformation || (exports.ColorInformation = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * [ColorPresentation](#ColorPresentation) literals.\n     */\n    var ColorPresentation;\n    (function (ColorPresentation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(label, textEdit, additionalTextEdits) {\n            return {\n                label: label,\n                textEdit: textEdit,\n                additionalTextEdits: additionalTextEdits,\n            };\n        }\n        ColorPresentation.create = create;\n        /**\n         * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate.label)\n                && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n                && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n        }\n        ColorPresentation.is = is;\n    })(ColorPresentation = exports.ColorPresentation || (exports.ColorPresentation = {}));\n    /**\n     * Enum of known range kinds\n     */\n    var FoldingRangeKind;\n    (function (FoldingRangeKind) {\n        /**\n         * Folding range for a comment\n         */\n        FoldingRangeKind[\"Comment\"] = \"comment\";\n        /**\n         * Folding range for a imports or includes\n         */\n        FoldingRangeKind[\"Imports\"] = \"imports\";\n        /**\n         * Folding range for a region (e.g. `#region`)\n         */\n        FoldingRangeKind[\"Region\"] = \"region\";\n    })(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\n    /**\n     * The folding range namespace provides helper functions to work with\n     * [FoldingRange](#FoldingRange) literals.\n     */\n    var FoldingRange;\n    (function (FoldingRange) {\n        /**\n         * Creates a new FoldingRange literal.\n         */\n        function create(startLine, endLine, startCharacter, endCharacter, kind) {\n            var result = {\n                startLine: startLine,\n                endLine: endLine\n            };\n            if (Is.defined(startCharacter)) {\n                result.startCharacter = startCharacter;\n            }\n            if (Is.defined(endCharacter)) {\n                result.endCharacter = endCharacter;\n            }\n            if (Is.defined(kind)) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        FoldingRange.create = create;\n        /**\n         * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n                && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n                && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n                && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n        }\n        FoldingRange.is = is;\n    })(FoldingRange = exports.FoldingRange || (exports.FoldingRange = {}));\n    /**\n     * The DiagnosticRelatedInformation namespace provides helper functions to work with\n     * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n     */\n    var DiagnosticRelatedInformation;\n    (function (DiagnosticRelatedInformation) {\n        /**\n         * Creates a new DiagnosticRelatedInformation literal.\n         */\n        function create(location, message) {\n            return {\n                location: location,\n                message: message\n            };\n        }\n        DiagnosticRelatedInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n        }\n        DiagnosticRelatedInformation.is = is;\n    })(DiagnosticRelatedInformation = exports.DiagnosticRelatedInformation || (exports.DiagnosticRelatedInformation = {}));\n    /**\n     * The diagnostic's severity.\n     */\n    var DiagnosticSeverity;\n    (function (DiagnosticSeverity) {\n        /**\n         * Reports an error.\n         */\n        DiagnosticSeverity.Error = 1;\n        /**\n         * Reports a warning.\n         */\n        DiagnosticSeverity.Warning = 2;\n        /**\n         * Reports an information.\n         */\n        DiagnosticSeverity.Information = 3;\n        /**\n         * Reports a hint.\n         */\n        DiagnosticSeverity.Hint = 4;\n    })(DiagnosticSeverity = exports.DiagnosticSeverity || (exports.DiagnosticSeverity = {}));\n    /**\n     * The diagnostic tags.\n     *\n     * @since 3.15.0\n     */\n    var DiagnosticTag;\n    (function (DiagnosticTag) {\n        /**\n         * Unused or unnecessary code.\n         *\n         * Clients are allowed to render diagnostics with this tag faded out instead of having\n         * an error squiggle.\n         */\n        DiagnosticTag.Unnecessary = 1;\n        /**\n         * Deprecated or obsolete code.\n         *\n         * Clients are allowed to rendered diagnostics with this tag strike through.\n         */\n        DiagnosticTag.Deprecated = 2;\n    })(DiagnosticTag = exports.DiagnosticTag || (exports.DiagnosticTag = {}));\n    /**\n     * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n     *\n     * @since 3.16.0\n     */\n    var CodeDescription;\n    (function (CodeDescription) {\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Is.string(candidate.href);\n        }\n        CodeDescription.is = is;\n    })(CodeDescription = exports.CodeDescription || (exports.CodeDescription = {}));\n    /**\n     * The Diagnostic namespace provides helper functions to work with\n     * [Diagnostic](#Diagnostic) literals.\n     */\n    var Diagnostic;\n    (function (Diagnostic) {\n        /**\n         * Creates a new Diagnostic literal.\n         */\n        function create(range, message, severity, code, source, relatedInformation) {\n            var result = { range: range, message: message };\n            if (Is.defined(severity)) {\n                result.severity = severity;\n            }\n            if (Is.defined(code)) {\n                result.code = code;\n            }\n            if (Is.defined(source)) {\n                result.source = source;\n            }\n            if (Is.defined(relatedInformation)) {\n                result.relatedInformation = relatedInformation;\n            }\n            return result;\n        }\n        Diagnostic.create = create;\n        /**\n         * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n         */\n        function is(value) {\n            var _a;\n            var candidate = value;\n            return Is.defined(candidate)\n                && Range.is(candidate.range)\n                && Is.string(candidate.message)\n                && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n                && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n                && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n                && (Is.string(candidate.source) || Is.undefined(candidate.source))\n                && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n        }\n        Diagnostic.is = is;\n    })(Diagnostic = exports.Diagnostic || (exports.Diagnostic = {}));\n    /**\n     * The Command namespace provides helper functions to work with\n     * [Command](#Command) literals.\n     */\n    var Command;\n    (function (Command) {\n        /**\n         * Creates a new Command literal.\n         */\n        function create(title, command) {\n            var args = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                args[_i - 2] = arguments[_i];\n            }\n            var result = { title: title, command: command };\n            if (Is.defined(args) && args.length > 0) {\n                result.arguments = args;\n            }\n            return result;\n        }\n        Command.create = create;\n        /**\n         * Checks whether the given literal conforms to the [Command](#Command) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n        }\n        Command.is = is;\n    })(Command = exports.Command || (exports.Command = {}));\n    /**\n     * The TextEdit namespace provides helper function to create replace,\n     * insert and delete edits more easily.\n     */\n    var TextEdit;\n    (function (TextEdit) {\n        /**\n         * Creates a replace text edit.\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         */\n        function replace(range, newText) {\n            return { range: range, newText: newText };\n        }\n        TextEdit.replace = replace;\n        /**\n         * Creates a insert text edit.\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         */\n        function insert(position, newText) {\n            return { range: { start: position, end: position }, newText: newText };\n        }\n        TextEdit.insert = insert;\n        /**\n         * Creates a delete text edit.\n         * @param range The range of text to be deleted.\n         */\n        function del(range) {\n            return { range: range, newText: '' };\n        }\n        TextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && Is.string(candidate.newText)\n                && Range.is(candidate.range);\n        }\n        TextEdit.is = is;\n    })(TextEdit = exports.TextEdit || (exports.TextEdit = {}));\n    var ChangeAnnotation;\n    (function (ChangeAnnotation) {\n        function create(label, needsConfirmation, description) {\n            var result = { label: label };\n            if (needsConfirmation !== undefined) {\n                result.needsConfirmation = needsConfirmation;\n            }\n            if (description !== undefined) {\n                result.description = description;\n            }\n            return result;\n        }\n        ChangeAnnotation.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n                (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        ChangeAnnotation.is = is;\n    })(ChangeAnnotation = exports.ChangeAnnotation || (exports.ChangeAnnotation = {}));\n    var ChangeAnnotationIdentifier;\n    (function (ChangeAnnotationIdentifier) {\n        function is(value) {\n            var candidate = value;\n            return typeof candidate === 'string';\n        }\n        ChangeAnnotationIdentifier.is = is;\n    })(ChangeAnnotationIdentifier = exports.ChangeAnnotationIdentifier || (exports.ChangeAnnotationIdentifier = {}));\n    var AnnotatedTextEdit;\n    (function (AnnotatedTextEdit) {\n        /**\n         * Creates an annotated replace text edit.\n         *\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         * @param annotation The annotation.\n         */\n        function replace(range, newText, annotation) {\n            return { range: range, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.replace = replace;\n        /**\n         * Creates an annotated insert text edit.\n         *\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         * @param annotation The annotation.\n         */\n        function insert(position, newText, annotation) {\n            return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.insert = insert;\n        /**\n         * Creates an annotated delete text edit.\n         *\n         * @param range The range of text to be deleted.\n         * @param annotation The annotation.\n         */\n        function del(range, annotation) {\n            return { range: range, newText: '', annotationId: annotation };\n        }\n        AnnotatedTextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        AnnotatedTextEdit.is = is;\n    })(AnnotatedTextEdit = exports.AnnotatedTextEdit || (exports.AnnotatedTextEdit = {}));\n    /**\n     * The TextDocumentEdit namespace provides helper function to create\n     * an edit that manipulates a text document.\n     */\n    var TextDocumentEdit;\n    (function (TextDocumentEdit) {\n        /**\n         * Creates a new `TextDocumentEdit`\n         */\n        function create(textDocument, edits) {\n            return { textDocument: textDocument, edits: edits };\n        }\n        TextDocumentEdit.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate)\n                && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n                && Array.isArray(candidate.edits);\n        }\n        TextDocumentEdit.is = is;\n    })(TextDocumentEdit = exports.TextDocumentEdit || (exports.TextDocumentEdit = {}));\n    var CreateFile;\n    (function (CreateFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'create',\n                uri: uri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        CreateFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        CreateFile.is = is;\n    })(CreateFile = exports.CreateFile || (exports.CreateFile = {}));\n    var RenameFile;\n    (function (RenameFile) {\n        function create(oldUri, newUri, options, annotation) {\n            var result = {\n                kind: 'rename',\n                oldUri: oldUri,\n                newUri: newUri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        RenameFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        RenameFile.is = is;\n    })(RenameFile = exports.RenameFile || (exports.RenameFile = {}));\n    var DeleteFile;\n    (function (DeleteFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'delete',\n                uri: uri\n            };\n            if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        DeleteFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        DeleteFile.is = is;\n    })(DeleteFile = exports.DeleteFile || (exports.DeleteFile = {}));\n    var WorkspaceEdit;\n    (function (WorkspaceEdit) {\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n                (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                    if (Is.string(change.kind)) {\n                        return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                    }\n                    else {\n                        return TextDocumentEdit.is(change);\n                    }\n                }));\n        }\n        WorkspaceEdit.is = is;\n    })(WorkspaceEdit = exports.WorkspaceEdit || (exports.WorkspaceEdit = {}));\n    var TextEditChangeImpl = /** @class */ (function () {\n        function TextEditChangeImpl(edits, changeAnnotations) {\n            this.edits = edits;\n            this.changeAnnotations = changeAnnotations;\n        }\n        TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.insert(position, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.insert(position, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.insert(position, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.replace(range, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.replace(range, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.replace(range, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.delete = function (range, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.del(range);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.del(range, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.del(range, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.add = function (edit) {\n            this.edits.push(edit);\n        };\n        TextEditChangeImpl.prototype.all = function () {\n            return this.edits;\n        };\n        TextEditChangeImpl.prototype.clear = function () {\n            this.edits.splice(0, this.edits.length);\n        };\n        TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n            if (value === undefined) {\n                throw new Error(\"Text edit change is not configured to manage change annotations.\");\n            }\n        };\n        return TextEditChangeImpl;\n    }());\n    /**\n     * A helper class\n     */\n    var ChangeAnnotations = /** @class */ (function () {\n        function ChangeAnnotations(annotations) {\n            this._annotations = annotations === undefined ? Object.create(null) : annotations;\n            this._counter = 0;\n            this._size = 0;\n        }\n        ChangeAnnotations.prototype.all = function () {\n            return this._annotations;\n        };\n        Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n            get: function () {\n                return this._size;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n            var id;\n            if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n                id = idOrAnnotation;\n            }\n            else {\n                id = this.nextId();\n                annotation = idOrAnnotation;\n            }\n            if (this._annotations[id] !== undefined) {\n                throw new Error(\"Id \" + id + \" is already in use.\");\n            }\n            if (annotation === undefined) {\n                throw new Error(\"No annotation provided for id \" + id);\n            }\n            this._annotations[id] = annotation;\n            this._size++;\n            return id;\n        };\n        ChangeAnnotations.prototype.nextId = function () {\n            this._counter++;\n            return this._counter.toString();\n        };\n        return ChangeAnnotations;\n    }());\n    /**\n     * A workspace change helps constructing changes to a workspace.\n     */\n    var WorkspaceChange = /** @class */ (function () {\n        function WorkspaceChange(workspaceEdit) {\n            var _this = this;\n            this._textEditChanges = Object.create(null);\n            if (workspaceEdit !== undefined) {\n                this._workspaceEdit = workspaceEdit;\n                if (workspaceEdit.documentChanges) {\n                    this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                    workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    workspaceEdit.documentChanges.forEach(function (change) {\n                        if (TextDocumentEdit.is(change)) {\n                            var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                            _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                        }\n                    });\n                }\n                else if (workspaceEdit.changes) {\n                    Object.keys(workspaceEdit.changes).forEach(function (key) {\n                        var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                        _this._textEditChanges[key] = textEditChange;\n                    });\n                }\n            }\n            else {\n                this._workspaceEdit = {};\n            }\n        }\n        Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n            /**\n             * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n             * use to be returned from a workspace edit operation like rename.\n             */\n            get: function () {\n                this.initDocumentChanges();\n                if (this._changeAnnotations !== undefined) {\n                    if (this._changeAnnotations.size === 0) {\n                        this._workspaceEdit.changeAnnotations = undefined;\n                    }\n                    else {\n                        this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    }\n                }\n                return this._workspaceEdit;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WorkspaceChange.prototype.getTextEditChange = function (key) {\n            if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n                this.initDocumentChanges();\n                if (this._workspaceEdit.documentChanges === undefined) {\n                    throw new Error('Workspace edit is not configured for document changes.');\n                }\n                var textDocument = { uri: key.uri, version: key.version };\n                var result = this._textEditChanges[textDocument.uri];\n                if (!result) {\n                    var edits = [];\n                    var textDocumentEdit = {\n                        textDocument: textDocument,\n                        edits: edits\n                    };\n                    this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                    result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                    this._textEditChanges[textDocument.uri] = result;\n                }\n                return result;\n            }\n            else {\n                this.initChanges();\n                if (this._workspaceEdit.changes === undefined) {\n                    throw new Error('Workspace edit is not configured for normal text edit changes.');\n                }\n                var result = this._textEditChanges[key];\n                if (!result) {\n                    var edits = [];\n                    this._workspaceEdit.changes[key] = edits;\n                    result = new TextEditChangeImpl(edits);\n                    this._textEditChanges[key] = result;\n                }\n                return result;\n            }\n        };\n        WorkspaceChange.prototype.initDocumentChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._changeAnnotations = new ChangeAnnotations();\n                this._workspaceEdit.documentChanges = [];\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        };\n        WorkspaceChange.prototype.initChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._workspaceEdit.changes = Object.create(null);\n            }\n        };\n        WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = CreateFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = CreateFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = RenameFile.create(oldUri, newUri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = RenameFile.create(oldUri, newUri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = DeleteFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = DeleteFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        return WorkspaceChange;\n    }());\n    exports.WorkspaceChange = WorkspaceChange;\n    /**\n     * The TextDocumentIdentifier namespace provides helper functions to work with\n     * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n     */\n    var TextDocumentIdentifier;\n    (function (TextDocumentIdentifier) {\n        /**\n         * Creates a new TextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         */\n        function create(uri) {\n            return { uri: uri };\n        }\n        TextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri);\n        }\n        TextDocumentIdentifier.is = is;\n    })(TextDocumentIdentifier = exports.TextDocumentIdentifier || (exports.TextDocumentIdentifier = {}));\n    /**\n     * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n     */\n    var VersionedTextDocumentIdentifier;\n    (function (VersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new VersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param uri The document's text.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        VersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n        }\n        VersionedTextDocumentIdentifier.is = is;\n    })(VersionedTextDocumentIdentifier = exports.VersionedTextDocumentIdentifier || (exports.VersionedTextDocumentIdentifier = {}));\n    /**\n     * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n     */\n    var OptionalVersionedTextDocumentIdentifier;\n    (function (OptionalVersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param uri The document's text.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        OptionalVersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n        }\n        OptionalVersionedTextDocumentIdentifier.is = is;\n    })(OptionalVersionedTextDocumentIdentifier = exports.OptionalVersionedTextDocumentIdentifier || (exports.OptionalVersionedTextDocumentIdentifier = {}));\n    /**\n     * The TextDocumentItem namespace provides helper functions to work with\n     * [TextDocumentItem](#TextDocumentItem) literals.\n     */\n    var TextDocumentItem;\n    (function (TextDocumentItem) {\n        /**\n         * Creates a new TextDocumentItem literal.\n         * @param uri The document's uri.\n         * @param languageId The document's language identifier.\n         * @param version The document's version number.\n         * @param text The document's text.\n         */\n        function create(uri, languageId, version, text) {\n            return { uri: uri, languageId: languageId, version: version, text: text };\n        }\n        TextDocumentItem.create = create;\n        /**\n         * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n        }\n        TextDocumentItem.is = is;\n    })(TextDocumentItem = exports.TextDocumentItem || (exports.TextDocumentItem = {}));\n    /**\n     * Describes the content type that a client supports in various\n     * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n     *\n     * Please note that `MarkupKinds` must not start with a `$`. This kinds\n     * are reserved for internal usage.\n     */\n    var MarkupKind;\n    (function (MarkupKind) {\n        /**\n         * Plain text is supported as a content format\n         */\n        MarkupKind.PlainText = 'plaintext';\n        /**\n         * Markdown is supported as a content format\n         */\n        MarkupKind.Markdown = 'markdown';\n    })(MarkupKind = exports.MarkupKind || (exports.MarkupKind = {}));\n    (function (MarkupKind) {\n        /**\n         * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n        }\n        MarkupKind.is = is;\n    })(MarkupKind = exports.MarkupKind || (exports.MarkupKind = {}));\n    var MarkupContent;\n    (function (MarkupContent) {\n        /**\n         * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n        }\n        MarkupContent.is = is;\n    })(MarkupContent = exports.MarkupContent || (exports.MarkupContent = {}));\n    /**\n     * The kind of a completion entry.\n     */\n    var CompletionItemKind;\n    (function (CompletionItemKind) {\n        CompletionItemKind.Text = 1;\n        CompletionItemKind.Method = 2;\n        CompletionItemKind.Function = 3;\n        CompletionItemKind.Constructor = 4;\n        CompletionItemKind.Field = 5;\n        CompletionItemKind.Variable = 6;\n        CompletionItemKind.Class = 7;\n        CompletionItemKind.Interface = 8;\n        CompletionItemKind.Module = 9;\n        CompletionItemKind.Property = 10;\n        CompletionItemKind.Unit = 11;\n        CompletionItemKind.Value = 12;\n        CompletionItemKind.Enum = 13;\n        CompletionItemKind.Keyword = 14;\n        CompletionItemKind.Snippet = 15;\n        CompletionItemKind.Color = 16;\n        CompletionItemKind.File = 17;\n        CompletionItemKind.Reference = 18;\n        CompletionItemKind.Folder = 19;\n        CompletionItemKind.EnumMember = 20;\n        CompletionItemKind.Constant = 21;\n        CompletionItemKind.Struct = 22;\n        CompletionItemKind.Event = 23;\n        CompletionItemKind.Operator = 24;\n        CompletionItemKind.TypeParameter = 25;\n    })(CompletionItemKind = exports.CompletionItemKind || (exports.CompletionItemKind = {}));\n    /**\n     * Defines whether the insert text in a completion item should be interpreted as\n     * plain text or a snippet.\n     */\n    var InsertTextFormat;\n    (function (InsertTextFormat) {\n        /**\n         * The primary text to be inserted is treated as a plain string.\n         */\n        InsertTextFormat.PlainText = 1;\n        /**\n         * The primary text to be inserted is treated as a snippet.\n         *\n         * A snippet can define tab stops and placeholders with `$1`, `$2`\n         * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n         * the end of the snippet. Placeholders with equal identifiers are linked,\n         * that is typing in one will update others too.\n         *\n         * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n         */\n        InsertTextFormat.Snippet = 2;\n    })(InsertTextFormat = exports.InsertTextFormat || (exports.InsertTextFormat = {}));\n    /**\n     * Completion item tags are extra annotations that tweak the rendering of a completion\n     * item.\n     *\n     * @since 3.15.0\n     */\n    var CompletionItemTag;\n    (function (CompletionItemTag) {\n        /**\n         * Render a completion as obsolete, usually using a strike-out.\n         */\n        CompletionItemTag.Deprecated = 1;\n    })(CompletionItemTag = exports.CompletionItemTag || (exports.CompletionItemTag = {}));\n    /**\n     * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n     *\n     * @since 3.16.0\n     */\n    var InsertReplaceEdit;\n    (function (InsertReplaceEdit) {\n        /**\n         * Creates a new insert / replace edit\n         */\n        function create(newText, insert, replace) {\n            return { newText: newText, insert: insert, replace: replace };\n        }\n        InsertReplaceEdit.create = create;\n        /**\n         * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n        }\n        InsertReplaceEdit.is = is;\n    })(InsertReplaceEdit = exports.InsertReplaceEdit || (exports.InsertReplaceEdit = {}));\n    /**\n     * How whitespace and indentation is handled during completion\n     * item insertion.\n     *\n     * @since 3.16.0\n     */\n    var InsertTextMode;\n    (function (InsertTextMode) {\n        /**\n         * The insertion or replace strings is taken as it is. If the\n         * value is multi line the lines below the cursor will be\n         * inserted using the indentation defined in the string value.\n         * The client will not apply any kind of adjustments to the\n         * string.\n         */\n        InsertTextMode.asIs = 1;\n        /**\n         * The editor adjusts leading whitespace of new lines so that\n         * they match the indentation up to the cursor of the line for\n         * which the item is accepted.\n         *\n         * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n         * multi line completion item is indented using 2 tabs and all\n         * following lines inserted will be indented using 2 tabs as well.\n         */\n        InsertTextMode.adjustIndentation = 2;\n    })(InsertTextMode = exports.InsertTextMode || (exports.InsertTextMode = {}));\n    /**\n     * The CompletionItem namespace provides functions to deal with\n     * completion items.\n     */\n    var CompletionItem;\n    (function (CompletionItem) {\n        /**\n         * Create a completion item and seed it with a label.\n         * @param label The completion item's label\n         */\n        function create(label) {\n            return { label: label };\n        }\n        CompletionItem.create = create;\n    })(CompletionItem = exports.CompletionItem || (exports.CompletionItem = {}));\n    /**\n     * The CompletionList namespace provides functions to deal with\n     * completion lists.\n     */\n    var CompletionList;\n    (function (CompletionList) {\n        /**\n         * Creates a new completion list.\n         *\n         * @param items The completion items.\n         * @param isIncomplete The list is not complete.\n         */\n        function create(items, isIncomplete) {\n            return { items: items ? items : [], isIncomplete: !!isIncomplete };\n        }\n        CompletionList.create = create;\n    })(CompletionList = exports.CompletionList || (exports.CompletionList = {}));\n    var MarkedString;\n    (function (MarkedString) {\n        /**\n         * Creates a marked string from plain text.\n         *\n         * @param plainText The plain text.\n         */\n        function fromPlainText(plainText) {\n            return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n        }\n        MarkedString.fromPlainText = fromPlainText;\n        /**\n         * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n        }\n        MarkedString.is = is;\n    })(MarkedString = exports.MarkedString || (exports.MarkedString = {}));\n    var Hover;\n    (function (Hover) {\n        /**\n         * Checks whether the given value conforms to the [Hover](#Hover) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n                MarkedString.is(candidate.contents) ||\n                Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n        }\n        Hover.is = is;\n    })(Hover = exports.Hover || (exports.Hover = {}));\n    /**\n     * The ParameterInformation namespace provides helper functions to work with\n     * [ParameterInformation](#ParameterInformation) literals.\n     */\n    var ParameterInformation;\n    (function (ParameterInformation) {\n        /**\n         * Creates a new parameter information literal.\n         *\n         * @param label A label string.\n         * @param documentation A doc string.\n         */\n        function create(label, documentation) {\n            return documentation ? { label: label, documentation: documentation } : { label: label };\n        }\n        ParameterInformation.create = create;\n    })(ParameterInformation = exports.ParameterInformation || (exports.ParameterInformation = {}));\n    /**\n     * The SignatureInformation namespace provides helper functions to work with\n     * [SignatureInformation](#SignatureInformation) literals.\n     */\n    var SignatureInformation;\n    (function (SignatureInformation) {\n        function create(label, documentation) {\n            var parameters = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                parameters[_i - 2] = arguments[_i];\n            }\n            var result = { label: label };\n            if (Is.defined(documentation)) {\n                result.documentation = documentation;\n            }\n            if (Is.defined(parameters)) {\n                result.parameters = parameters;\n            }\n            else {\n                result.parameters = [];\n            }\n            return result;\n        }\n        SignatureInformation.create = create;\n    })(SignatureInformation = exports.SignatureInformation || (exports.SignatureInformation = {}));\n    /**\n     * A document highlight kind.\n     */\n    var DocumentHighlightKind;\n    (function (DocumentHighlightKind) {\n        /**\n         * A textual occurrence.\n         */\n        DocumentHighlightKind.Text = 1;\n        /**\n         * Read-access of a symbol, like reading a variable.\n         */\n        DocumentHighlightKind.Read = 2;\n        /**\n         * Write-access of a symbol, like writing to a variable.\n         */\n        DocumentHighlightKind.Write = 3;\n    })(DocumentHighlightKind = exports.DocumentHighlightKind || (exports.DocumentHighlightKind = {}));\n    /**\n     * DocumentHighlight namespace to provide helper functions to work with\n     * [DocumentHighlight](#DocumentHighlight) literals.\n     */\n    var DocumentHighlight;\n    (function (DocumentHighlight) {\n        /**\n         * Create a DocumentHighlight object.\n         * @param range The range the highlight applies to.\n         */\n        function create(range, kind) {\n            var result = { range: range };\n            if (Is.number(kind)) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        DocumentHighlight.create = create;\n    })(DocumentHighlight = exports.DocumentHighlight || (exports.DocumentHighlight = {}));\n    /**\n     * A symbol kind.\n     */\n    var SymbolKind;\n    (function (SymbolKind) {\n        SymbolKind.File = 1;\n        SymbolKind.Module = 2;\n        SymbolKind.Namespace = 3;\n        SymbolKind.Package = 4;\n        SymbolKind.Class = 5;\n        SymbolKind.Method = 6;\n        SymbolKind.Property = 7;\n        SymbolKind.Field = 8;\n        SymbolKind.Constructor = 9;\n        SymbolKind.Enum = 10;\n        SymbolKind.Interface = 11;\n        SymbolKind.Function = 12;\n        SymbolKind.Variable = 13;\n        SymbolKind.Constant = 14;\n        SymbolKind.String = 15;\n        SymbolKind.Number = 16;\n        SymbolKind.Boolean = 17;\n        SymbolKind.Array = 18;\n        SymbolKind.Object = 19;\n        SymbolKind.Key = 20;\n        SymbolKind.Null = 21;\n        SymbolKind.EnumMember = 22;\n        SymbolKind.Struct = 23;\n        SymbolKind.Event = 24;\n        SymbolKind.Operator = 25;\n        SymbolKind.TypeParameter = 26;\n    })(SymbolKind = exports.SymbolKind || (exports.SymbolKind = {}));\n    /**\n     * Symbol tags are extra annotations that tweak the rendering of a symbol.\n     * @since 3.16\n     */\n    var SymbolTag;\n    (function (SymbolTag) {\n        /**\n         * Render a symbol as obsolete, usually using a strike-out.\n         */\n        SymbolTag.Deprecated = 1;\n    })(SymbolTag = exports.SymbolTag || (exports.SymbolTag = {}));\n    var SymbolInformation;\n    (function (SymbolInformation) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the location of the symbol.\n         * @param uri The resource of the location of symbol, defaults to the current document.\n         * @param containerName The name of the symbol containing the symbol.\n         */\n        function create(name, kind, range, uri, containerName) {\n            var result = {\n                name: name,\n                kind: kind,\n                location: { uri: uri, range: range }\n            };\n            if (containerName) {\n                result.containerName = containerName;\n            }\n            return result;\n        }\n        SymbolInformation.create = create;\n    })(SymbolInformation = exports.SymbolInformation || (exports.SymbolInformation = {}));\n    var DocumentSymbol;\n    (function (DocumentSymbol) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param detail The detail of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the symbol.\n         * @param selectionRange The selectionRange of the symbol.\n         * @param children Children of the symbol.\n         */\n        function create(name, detail, kind, range, selectionRange, children) {\n            var result = {\n                name: name,\n                detail: detail,\n                kind: kind,\n                range: range,\n                selectionRange: selectionRange\n            };\n            if (children !== undefined) {\n                result.children = children;\n            }\n            return result;\n        }\n        DocumentSymbol.create = create;\n        /**\n         * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                Is.string(candidate.name) && Is.number(candidate.kind) &&\n                Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n                (candidate.detail === undefined || Is.string(candidate.detail)) &&\n                (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n                (candidate.children === undefined || Array.isArray(candidate.children)) &&\n                (candidate.tags === undefined || Array.isArray(candidate.tags));\n        }\n        DocumentSymbol.is = is;\n    })(DocumentSymbol = exports.DocumentSymbol || (exports.DocumentSymbol = {}));\n    /**\n     * A set of predefined code action kinds\n     */\n    var CodeActionKind;\n    (function (CodeActionKind) {\n        /**\n         * Empty kind.\n         */\n        CodeActionKind.Empty = '';\n        /**\n         * Base kind for quickfix actions: 'quickfix'\n         */\n        CodeActionKind.QuickFix = 'quickfix';\n        /**\n         * Base kind for refactoring actions: 'refactor'\n         */\n        CodeActionKind.Refactor = 'refactor';\n        /**\n         * Base kind for refactoring extraction actions: 'refactor.extract'\n         *\n         * Example extract actions:\n         *\n         * - Extract method\n         * - Extract function\n         * - Extract variable\n         * - Extract interface from class\n         * - ...\n         */\n        CodeActionKind.RefactorExtract = 'refactor.extract';\n        /**\n         * Base kind for refactoring inline actions: 'refactor.inline'\n         *\n         * Example inline actions:\n         *\n         * - Inline function\n         * - Inline variable\n         * - Inline constant\n         * - ...\n         */\n        CodeActionKind.RefactorInline = 'refactor.inline';\n        /**\n         * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n         *\n         * Example rewrite actions:\n         *\n         * - Convert JavaScript function to class\n         * - Add or remove parameter\n         * - Encapsulate field\n         * - Make method static\n         * - Move method to base class\n         * - ...\n         */\n        CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n        /**\n         * Base kind for source actions: `source`\n         *\n         * Source code actions apply to the entire file.\n         */\n        CodeActionKind.Source = 'source';\n        /**\n         * Base kind for an organize imports source action: `source.organizeImports`\n         */\n        CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n        /**\n         * Base kind for auto-fix source actions: `source.fixAll`.\n         *\n         * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n         * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n         *\n         * @since 3.15.0\n         */\n        CodeActionKind.SourceFixAll = 'source.fixAll';\n    })(CodeActionKind = exports.CodeActionKind || (exports.CodeActionKind = {}));\n    /**\n     * The CodeActionContext namespace provides helper functions to work with\n     * [CodeActionContext](#CodeActionContext) literals.\n     */\n    var CodeActionContext;\n    (function (CodeActionContext) {\n        /**\n         * Creates a new CodeActionContext literal.\n         */\n        function create(diagnostics, only) {\n            var result = { diagnostics: diagnostics };\n            if (only !== undefined && only !== null) {\n                result.only = only;\n            }\n            return result;\n        }\n        CodeActionContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\n        }\n        CodeActionContext.is = is;\n    })(CodeActionContext = exports.CodeActionContext || (exports.CodeActionContext = {}));\n    var CodeAction;\n    (function (CodeAction) {\n        function create(title, kindOrCommandOrEdit, kind) {\n            var result = { title: title };\n            var checkKind = true;\n            if (typeof kindOrCommandOrEdit === 'string') {\n                checkKind = false;\n                result.kind = kindOrCommandOrEdit;\n            }\n            else if (Command.is(kindOrCommandOrEdit)) {\n                result.command = kindOrCommandOrEdit;\n            }\n            else {\n                result.edit = kindOrCommandOrEdit;\n            }\n            if (checkKind && kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        CodeAction.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.title) &&\n                (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n                (candidate.kind === undefined || Is.string(candidate.kind)) &&\n                (candidate.edit !== undefined || candidate.command !== undefined) &&\n                (candidate.command === undefined || Command.is(candidate.command)) &&\n                (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n                (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n        }\n        CodeAction.is = is;\n    })(CodeAction = exports.CodeAction || (exports.CodeAction = {}));\n    /**\n     * The CodeLens namespace provides helper functions to work with\n     * [CodeLens](#CodeLens) literals.\n     */\n    var CodeLens;\n    (function (CodeLens) {\n        /**\n         * Creates a new CodeLens literal.\n         */\n        function create(range, data) {\n            var result = { range: range };\n            if (Is.defined(data)) {\n                result.data = data;\n            }\n            return result;\n        }\n        CodeLens.create = create;\n        /**\n         * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n        }\n        CodeLens.is = is;\n    })(CodeLens = exports.CodeLens || (exports.CodeLens = {}));\n    /**\n     * The FormattingOptions namespace provides helper functions to work with\n     * [FormattingOptions](#FormattingOptions) literals.\n     */\n    var FormattingOptions;\n    (function (FormattingOptions) {\n        /**\n         * Creates a new FormattingOptions literal.\n         */\n        function create(tabSize, insertSpaces) {\n            return { tabSize: tabSize, insertSpaces: insertSpaces };\n        }\n        FormattingOptions.create = create;\n        /**\n         * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n        }\n        FormattingOptions.is = is;\n    })(FormattingOptions = exports.FormattingOptions || (exports.FormattingOptions = {}));\n    /**\n     * The DocumentLink namespace provides helper functions to work with\n     * [DocumentLink](#DocumentLink) literals.\n     */\n    var DocumentLink;\n    (function (DocumentLink) {\n        /**\n         * Creates a new DocumentLink literal.\n         */\n        function create(range, target, data) {\n            return { range: range, target: target, data: data };\n        }\n        DocumentLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n        }\n        DocumentLink.is = is;\n    })(DocumentLink = exports.DocumentLink || (exports.DocumentLink = {}));\n    /**\n     * The SelectionRange namespace provides helper function to work with\n     * SelectionRange literals.\n     */\n    var SelectionRange;\n    (function (SelectionRange) {\n        /**\n         * Creates a new SelectionRange\n         * @param range the range.\n         * @param parent an optional parent.\n         */\n        function create(range, parent) {\n            return { range: range, parent: parent };\n        }\n        SelectionRange.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n        }\n        SelectionRange.is = is;\n    })(SelectionRange = exports.SelectionRange || (exports.SelectionRange = {}));\n    exports.EOL = ['\\n', '\\r\\n', '\\r'];\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var TextDocument;\n    (function (TextDocument) {\n        /**\n         * Creates a new ITextDocument literal from the given uri and content.\n         * @param uri The document's uri.\n         * @param languageId  The document's language Id.\n         * @param content The document's content.\n         */\n        function create(uri, languageId, version, content) {\n            return new FullTextDocument(uri, languageId, version, content);\n        }\n        TextDocument.create = create;\n        /**\n         * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n                && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n        }\n        TextDocument.is = is;\n        function applyEdits(document, edits) {\n            var text = document.getText();\n            var sortedEdits = mergeSort(edits, function (a, b) {\n                var diff = a.range.start.line - b.range.start.line;\n                if (diff === 0) {\n                    return a.range.start.character - b.range.start.character;\n                }\n                return diff;\n            });\n            var lastModifiedOffset = text.length;\n            for (var i = sortedEdits.length - 1; i >= 0; i--) {\n                var e = sortedEdits[i];\n                var startOffset = document.offsetAt(e.range.start);\n                var endOffset = document.offsetAt(e.range.end);\n                if (endOffset <= lastModifiedOffset) {\n                    text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n                }\n                else {\n                    throw new Error('Overlapping edit');\n                }\n                lastModifiedOffset = startOffset;\n            }\n            return text;\n        }\n        TextDocument.applyEdits = applyEdits;\n        function mergeSort(data, compare) {\n            if (data.length <= 1) {\n                // sorted\n                return data;\n            }\n            var p = (data.length / 2) | 0;\n            var left = data.slice(0, p);\n            var right = data.slice(p);\n            mergeSort(left, compare);\n            mergeSort(right, compare);\n            var leftIdx = 0;\n            var rightIdx = 0;\n            var i = 0;\n            while (leftIdx < left.length && rightIdx < right.length) {\n                var ret = compare(left[leftIdx], right[rightIdx]);\n                if (ret <= 0) {\n                    // smaller_equal -> take left to preserve order\n                    data[i++] = left[leftIdx++];\n                }\n                else {\n                    // greater -> take right\n                    data[i++] = right[rightIdx++];\n                }\n            }\n            while (leftIdx < left.length) {\n                data[i++] = left[leftIdx++];\n            }\n            while (rightIdx < right.length) {\n                data[i++] = right[rightIdx++];\n            }\n            return data;\n        }\n    })(TextDocument = exports.TextDocument || (exports.TextDocument = {}));\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var FullTextDocument = /** @class */ (function () {\n        function FullTextDocument(uri, languageId, version, content) {\n            this._uri = uri;\n            this._languageId = languageId;\n            this._version = version;\n            this._content = content;\n            this._lineOffsets = undefined;\n        }\n        Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n            get: function () {\n                return this._uri;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n            get: function () {\n                return this._languageId;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"version\", {\n            get: function () {\n                return this._version;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FullTextDocument.prototype.getText = function (range) {\n            if (range) {\n                var start = this.offsetAt(range.start);\n                var end = this.offsetAt(range.end);\n                return this._content.substring(start, end);\n            }\n            return this._content;\n        };\n        FullTextDocument.prototype.update = function (event, version) {\n            this._content = event.text;\n            this._version = version;\n            this._lineOffsets = undefined;\n        };\n        FullTextDocument.prototype.getLineOffsets = function () {\n            if (this._lineOffsets === undefined) {\n                var lineOffsets = [];\n                var text = this._content;\n                var isLineStart = true;\n                for (var i = 0; i < text.length; i++) {\n                    if (isLineStart) {\n                        lineOffsets.push(i);\n                        isLineStart = false;\n                    }\n                    var ch = text.charAt(i);\n                    isLineStart = (ch === '\\r' || ch === '\\n');\n                    if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                        i++;\n                    }\n                }\n                if (isLineStart && text.length > 0) {\n                    lineOffsets.push(text.length);\n                }\n                this._lineOffsets = lineOffsets;\n            }\n            return this._lineOffsets;\n        };\n        FullTextDocument.prototype.positionAt = function (offset) {\n            offset = Math.max(Math.min(offset, this._content.length), 0);\n            var lineOffsets = this.getLineOffsets();\n            var low = 0, high = lineOffsets.length;\n            if (high === 0) {\n                return Position.create(0, offset);\n            }\n            while (low < high) {\n                var mid = Math.floor((low + high) / 2);\n                if (lineOffsets[mid] > offset) {\n                    high = mid;\n                }\n                else {\n                    low = mid + 1;\n                }\n            }\n            // low is the least x for which the line offset is larger than the current offset\n            // or array.length if no line offset is larger than the current offset\n            var line = low - 1;\n            return Position.create(line, offset - lineOffsets[line]);\n        };\n        FullTextDocument.prototype.offsetAt = function (position) {\n            var lineOffsets = this.getLineOffsets();\n            if (position.line >= lineOffsets.length) {\n                return this._content.length;\n            }\n            else if (position.line < 0) {\n                return 0;\n            }\n            var lineOffset = lineOffsets[position.line];\n            var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n            return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n        };\n        Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n            get: function () {\n                return this.getLineOffsets().length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return FullTextDocument;\n    }());\n    var Is;\n    (function (Is) {\n        var toString = Object.prototype.toString;\n        function defined(value) {\n            return typeof value !== 'undefined';\n        }\n        Is.defined = defined;\n        function undefined(value) {\n            return typeof value === 'undefined';\n        }\n        Is.undefined = undefined;\n        function boolean(value) {\n            return value === true || value === false;\n        }\n        Is.boolean = boolean;\n        function string(value) {\n            return toString.call(value) === '[object String]';\n        }\n        Is.string = string;\n        function number(value) {\n            return toString.call(value) === '[object Number]';\n        }\n        Is.number = number;\n        function numberRange(value, min, max) {\n            return toString.call(value) === '[object Number]' && min <= value && value <= max;\n        }\n        Is.numberRange = numberRange;\n        function integer(value) {\n            return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n        }\n        Is.integer = integer;\n        function uinteger(value) {\n            return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n        }\n        Is.uinteger = uinteger;\n        function func(value) {\n            return toString.call(value) === '[object Function]';\n        }\n        Is.func = func;\n        function objectLiteral(value) {\n            // Strictly speaking class instances pass this check as well. Since the LSP\n            // doesn't use classes we ignore this for now. If we do we need to add something\n            // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n            return value !== null && typeof value === 'object';\n        }\n        Is.objectLiteral = objectLiteral;\n        function typedArray(value, check) {\n            return Array.isArray(value) && value.every(check);\n        }\n        Is.typedArray = typedArray;\n    })(Is || (Is = {}));\n});\n//# sourceMappingURL=main.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n// let x: ProtocolNotificationType<number, { value: number}>;\n// let y: ProtocolNotificationType<string, { value: number}>;\n// x = y;\n//# sourceMappingURL=messages.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolders.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = exports.FoldingRangeKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Enum of known range kinds\n */\nvar FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to a incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel[\"document\"] = \"document\";\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel[\"project\"] = \"project\";\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel[\"group\"] = \"group\";\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel[\"scheme\"] = \"scheme\";\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel[\"global\"] = \"global\";\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind[\"import\"] = \"import\";\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind[\"export\"] = \"export\";\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind[\"local\"] = \"local\";\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeError = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.DocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = void 0;\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokenTypes\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenTypes; } });\nObject.defineProperty(exports, \"SemanticTokenModifiers\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenModifiers; } });\nObject.defineProperty(exports, \"SemanticTokens\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokens; } });\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The DocumentFilter namespace provides helper functions to work with\n * [DocumentFilter](#DocumentFilter) literals.\n */\nvar DocumentFilter;\n(function (DocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    DocumentFilter.is = is;\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeError`;\n */\nvar InitializeError;\n(function (InitializeError) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeError.unknownProtocolVersion = 1;\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    LSPErrorCodes.ContentModified = -32801;\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return node_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            var _a;\n            if (((_a = capabilities === null || capabilities === void 0 ? void 0 : capabilities.window) === null || _a === void 0 ? void 0 : _a.workDoneProgress) === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = uuid_1.generateUuid();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n//# sourceMappingURL=progress.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                return Array.isArray(arg) ? result : result[0];\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n//# sourceMappingURL=configuration.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        initialize(capabilities) {\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolders.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            const prevDataLength = this._prevData.length;\n            const dataLength = this._data.length;\n            let startIndex = 0;\n            while (startIndex < dataLength && startIndex < prevDataLength && this._prevData[startIndex] === this._data[startIndex]) {\n                startIndex++;\n            }\n            if (startIndex < dataLength && startIndex < prevDataLength) {\n                // Find end index\n                let endIndex = 0;\n                while (endIndex < dataLength && endIndex < prevDataLength && this._prevData[prevDataLength - 1 - endIndex] === this._data[dataLength - 1 - endIndex]) {\n                    endIndex++;\n                }\n                const newData = this._data.slice(startIndex, dataLength - endIndex);\n                const result = {\n                    resultId: this.id,\n                    edits: [\n                        { start: startIndex, deleteCount: prevDataLength - endIndex - startIndex, data: newData }\n                    ]\n                };\n                return result;\n            }\n            else if (startIndex < dataLength) {\n                return { resultId: this.id, edits: [\n                        { start: startIndex, deleteCount: 0, data: this._data.slice(startIndex) }\n                    ] };\n            }\n            else if (startIndex < prevDataLength) {\n                return { resultId: this.id, edits: [\n                        { start: startIndex, deleteCount: prevDataLength - startIndex }\n                    ] };\n            }\n            else {\n                return { resultId: this.id, edits: [] };\n            }\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n//# sourceMappingURL=semanticTokens.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n//# sourceMappingURL=showDocument.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n//# sourceMappingURL=fileOperations.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n//# sourceMappingURL=linkedEditingRange.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n//# sourceMappingURL=moniker.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = exports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * A manager for simple text documents\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._documents = Object.create(null);\n        this._configuration = configuration;\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._documents[uri];\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Object.keys(this._documents).map(key => this._documents[key]);\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Object.keys(this._documents);\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\n        connection.onDidOpenTextDocument((event) => {\n            let td = event.textDocument;\n            let document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._documents[td.uri] = document;\n            let toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        });\n        connection.onDidChangeTextDocument((event) => {\n            let td = event.textDocument;\n            let changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            let document = this._documents[td.uri];\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            document = this._configuration.update(document, changes, version);\n            this._documents[td.uri] = document;\n            this._onDidChangeContent.fire(Object.freeze({ document }));\n        });\n        connection.onDidCloseTextDocument((event) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document) {\n                delete this._documents[event.textDocument.uri];\n                this._onDidClose.fire(Object.freeze({ document }));\n            }\n        });\n        connection.onWillSaveTextDocument((event) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document) {\n                this._onWillSave.fire(Object.freeze({ document, reason: event.reason }));\n            }\n        });\n        connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        });\n        connection.onDidSaveTextDocument((event) => {\n            let document = this._documents[event.textDocument.uri];\n            if (document) {\n                this._onDidSave.fire(Object.freeze({ document }));\n            }\n        });\n    }\n}\nexports.TextDocuments = TextDocuments;\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = showDocument_1.ShowDocumentFeature(progress_1.ProgressFeature(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method);\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = fileOperations_1.FileOperationsFeature(workspaceFolders_1.WorkspaceFoldersFeature(configuration_1.ConfigurationFeature(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data);\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return progress_1.attachWorkDone(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return progress_1.attachPartialResult(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = moniker_1.MonikerFeature(linkedEditingRange_1.LinkedEditingRangeFeature(semanticTokens_1.SemanticTokensFeature(callHierarchy_1.CallHierarchyFeature(_LanguagesImpl))));\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                connection.sendNotification(method);\n            }\n            else {\n                connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => initializeHandler = handler,\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => shutdownHandler = handler,\n        onExit: (handler) => exitHandler = handler,\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, progress_1.attachWorkDone(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n//# sourceMappingURL=server.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = child_process_1.fork('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = child_process_1.spawnSync(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = child_process_1.spawnSync(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n//# sourceMappingURL=files.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features'\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=api.js.map", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files = exports.Files || (exports.Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = node_1.createServerSocketTransport(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = node_1.createServerPipeTransport(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = node_1.createProtocolConnection(input, output, logger, options);\n        return result;\n    };\n    return server_1.createConnection(connectionFactory, watchDog, factories);\n}\n//# sourceMappingURL=main.js.map", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');", "(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(require, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    /* --------------------------------------------------------------------------------------------\n     * Copyright (c) Microsoft Corporation. All rights reserved.\n     * Licensed under the MIT License. See License.txt in the project root for license information.\n     * ------------------------------------------------------------------------------------------ */\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var FullTextDocument = /** @class */ (function () {\n        function FullTextDocument(uri, languageId, version, content) {\n            this._uri = uri;\n            this._languageId = languageId;\n            this._version = version;\n            this._content = content;\n            this._lineOffsets = undefined;\n        }\n        Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n            get: function () {\n                return this._uri;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n            get: function () {\n                return this._languageId;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"version\", {\n            get: function () {\n                return this._version;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        FullTextDocument.prototype.getText = function (range) {\n            if (range) {\n                var start = this.offsetAt(range.start);\n                var end = this.offsetAt(range.end);\n                return this._content.substring(start, end);\n            }\n            return this._content;\n        };\n        FullTextDocument.prototype.update = function (changes, version) {\n            for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n                var change = changes_1[_i];\n                if (FullTextDocument.isIncremental(change)) {\n                    // makes sure start is before end\n                    var range = getWellformedRange(change.range);\n                    // update content\n                    var startOffset = this.offsetAt(range.start);\n                    var endOffset = this.offsetAt(range.end);\n                    this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                    // update the offsets\n                    var startLine = Math.max(range.start.line, 0);\n                    var endLine = Math.max(range.end.line, 0);\n                    var lineOffsets = this._lineOffsets;\n                    var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                    if (endLine - startLine === addedLineOffsets.length) {\n                        for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\n                            lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                        }\n                    }\n                    else {\n                        if (addedLineOffsets.length < 10000) {\n                            lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\n                        }\n                        else { // avoid too many arguments for splice\n                            this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                        }\n                    }\n                    var diff = change.text.length - (endOffset - startOffset);\n                    if (diff !== 0) {\n                        for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                            lineOffsets[i] = lineOffsets[i] + diff;\n                        }\n                    }\n                }\n                else if (FullTextDocument.isFull(change)) {\n                    this._content = change.text;\n                    this._lineOffsets = undefined;\n                }\n                else {\n                    throw new Error('Unknown change event received');\n                }\n            }\n            this._version = version;\n        };\n        FullTextDocument.prototype.getLineOffsets = function () {\n            if (this._lineOffsets === undefined) {\n                this._lineOffsets = computeLineOffsets(this._content, true);\n            }\n            return this._lineOffsets;\n        };\n        FullTextDocument.prototype.positionAt = function (offset) {\n            offset = Math.max(Math.min(offset, this._content.length), 0);\n            var lineOffsets = this.getLineOffsets();\n            var low = 0, high = lineOffsets.length;\n            if (high === 0) {\n                return { line: 0, character: offset };\n            }\n            while (low < high) {\n                var mid = Math.floor((low + high) / 2);\n                if (lineOffsets[mid] > offset) {\n                    high = mid;\n                }\n                else {\n                    low = mid + 1;\n                }\n            }\n            // low is the least x for which the line offset is larger than the current offset\n            // or array.length if no line offset is larger than the current offset\n            var line = low - 1;\n            return { line: line, character: offset - lineOffsets[line] };\n        };\n        FullTextDocument.prototype.offsetAt = function (position) {\n            var lineOffsets = this.getLineOffsets();\n            if (position.line >= lineOffsets.length) {\n                return this._content.length;\n            }\n            else if (position.line < 0) {\n                return 0;\n            }\n            var lineOffset = lineOffsets[position.line];\n            var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n            return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n        };\n        Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n            get: function () {\n                return this.getLineOffsets().length;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        FullTextDocument.isIncremental = function (event) {\n            var candidate = event;\n            return candidate !== undefined && candidate !== null &&\n                typeof candidate.text === 'string' && candidate.range !== undefined &&\n                (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n        };\n        FullTextDocument.isFull = function (event) {\n            var candidate = event;\n            return candidate !== undefined && candidate !== null &&\n                typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n        };\n        return FullTextDocument;\n    }());\n    var TextDocument;\n    (function (TextDocument) {\n        /**\n         * Creates a new text document.\n         *\n         * @param uri The document's uri.\n         * @param languageId  The document's language Id.\n         * @param version The document's initial version number.\n         * @param content The document's content.\n         */\n        function create(uri, languageId, version, content) {\n            return new FullTextDocument(uri, languageId, version, content);\n        }\n        TextDocument.create = create;\n        /**\n         * Updates a TextDocument by modifing its content.\n         *\n         * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n         * @param changes the changes to apply to the document.\n         * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n         *\n         */\n        function update(document, changes, version) {\n            if (document instanceof FullTextDocument) {\n                document.update(changes, version);\n                return document;\n            }\n            else {\n                throw new Error('TextDocument.update: document must be created by TextDocument.create');\n            }\n        }\n        TextDocument.update = update;\n        function applyEdits(document, edits) {\n            var text = document.getText();\n            var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\n                var diff = a.range.start.line - b.range.start.line;\n                if (diff === 0) {\n                    return a.range.start.character - b.range.start.character;\n                }\n                return diff;\n            });\n            var lastModifiedOffset = 0;\n            var spans = [];\n            for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\n                var e = sortedEdits_1[_i];\n                var startOffset = document.offsetAt(e.range.start);\n                if (startOffset < lastModifiedOffset) {\n                    throw new Error('Overlapping edit');\n                }\n                else if (startOffset > lastModifiedOffset) {\n                    spans.push(text.substring(lastModifiedOffset, startOffset));\n                }\n                if (e.newText.length) {\n                    spans.push(e.newText);\n                }\n                lastModifiedOffset = document.offsetAt(e.range.end);\n            }\n            spans.push(text.substr(lastModifiedOffset));\n            return spans.join('');\n        }\n        TextDocument.applyEdits = applyEdits;\n    })(TextDocument = exports.TextDocument || (exports.TextDocument = {}));\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n    function computeLineOffsets(text, isAtLineStart, textOffset) {\n        if (textOffset === void 0) { textOffset = 0; }\n        var result = isAtLineStart ? [textOffset] : [];\n        for (var i = 0; i < text.length; i++) {\n            var ch = text.charCodeAt(i);\n            if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\n                if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\n                    i++;\n                }\n                result.push(textOffset + i + 1);\n            }\n        }\n        return result;\n    }\n    function getWellformedRange(range) {\n        var start = range.start;\n        var end = range.end;\n        if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n            return { start: end, end: start };\n        }\n        return range;\n    }\n    function getWellformedEdit(textEdit) {\n        var range = getWellformedRange(textEdit.range);\n        if (range !== textEdit.range) {\n            return { newText: textEdit.newText, range: range };\n        }\n        return textEdit;\n    }\n});\n", "import {\n\tcreateConnection,\n\tTextDocuments,\n\tDiagnostic,\n\tDiagnosticSeverity,\n\tProposedFeatures,\n\tInitializeParams,\n\tTextDocumentSyncKind,\n\tInitializeResult,\n} from 'vscode-languageserver/node';\nimport * as bugs from './BUGSKit';\nimport * as path from 'path'\nimport * as os from 'os'\nimport {\n\tTextDocument, TextEdit\n} from 'vscode-languageserver-textdocument';\nimport * as fs from 'fs';\nimport { execSync } from 'child_process'\nimport { Seq } from './Seq';\n\nconst connection = createConnection(ProposedFeatures.all);\nconst documents: TextDocuments<TextDocument> = new TextDocuments(TextDocument);\n\n// parsed prgrams\nconst documentContents: Map<string, bugs.Program> = new Map();\nlet pathToOpenBUGS: string | undefined = undefined;\nlet pathToStorage: string | undefined = undefined;\n\nconnection.onInitialize((_params: InitializeParams) => {\n\tconst result: InitializeResult = {\n\t\tcapabilities: {\n\t\t\ttextDocumentSync: TextDocumentSyncKind.Incremental,\n\t\t\tdocumentFormattingProvider: true,\n\t\t}\n\t};\n\treturn result;\n});\n\nasync function initializePathToStorage(): Promise<void> {\n\treturn connection.sendRequest('custom/getStoragePath').then((path: string) => {\n\t\tpathToStorage = path;\n\t\tif (!fs.existsSync(path)) {\n\t\t\tfs.mkdirSync(path)\n\t\t}\n\t})\n}\n\nconnection.onInitialized((_params) => {\n\tif (os.platform() === 'win32') {\n\t\tconst drives = ['c', 'd', 'e', 'f'];\n\t\tconst programFiles = ['Program Files', 'Program Files (x86)']\n\t\tconst possiblePaths = Seq.cartesianProduct(drives, programFiles).\n\t\t\tmap(({ left: drive, right: programFiles }) => {\n\t\t\t\treturn `${drive}:\\\\${programFiles}\\\\OpenBUGS`\n\t\t\t})\n\t\tconst installedPaths = possiblePaths.\n\t\t\tfilter((path) => fs.existsSync(path)).\n\t\t\tflatMap((path) => {\n\t\t\t\treturn fs.readdirSync(path).\n\t\t\t\t\tfilter((version) => {\n\t\t\t\t\t\treturn version.startsWith('OpenBUGS')\n\t\t\t\t\t}).\n\t\t\t\t\tmap((version) => {\n\t\t\t\t\t\treturn `${path}\\\\${version}\\\\OpenBUGS.exe`\n\t\t\t\t\t})\n\t\t\t});\n\t\tif (installedPaths.length === 0) {\n\t\t\tconnection.sendNotification(\"custom/warning\", `I find no OpenBUGS installation in ${possiblePaths.join(', ')}.`)\n\t\t\treturn\n\t\t} else if (installedPaths.length > 1) {\n\t\t\tconnection.sendNotification(\"custom/warning\", `I am not sure which OpenBUGS should I use. There are more than one installations: ${installedPaths.join(', ')}.`)\n\t\t\treturn\n\t\t} else {\n\t\t\tpathToOpenBUGS = installedPaths[0]\n\t\t\treturn\n\t\t}\n\t} else if (os.platform() === 'linux') {\n\t\tpathToOpenBUGS = 'OpenBUGS'\n\t\treturn\n\t} else {\n\t\tconnection.sendNotification('custom/warning', `Sorry, your OS (${os.platform()}) is not supported yet.`)\n\t\treturn\n\t}\n})\n\ndocuments.onDidChangeContent(change => {\n\thandleDidChangeContent(change.document);\n});\n\ndocuments.onDidOpen(event => {\n\thandleDidSave(event.document)\n})\n\ndocuments.onDidSave(event => {\n\thandleDidSave(event.document);\n})\n\nasync function handleDidChangeContent(textDocument: TextDocument): Promise<void> {\n\tif (pathToStorage === undefined) {\n\t\tinitializePathToStorage().then(() => handleDidChangeContent(textDocument))\n\t} else {\n\t\ttry {\n\t\t\tconnection.sendDiagnostics({\n\t\t\t\turi: textDocument.uri,\n\t\t\t\tdiagnostics: [\n\t\t\t\t\t// ...modelCheck(textDocument),\n\t\t\t\t\t...parseAndCheck(textDocument)\n\t\t\t\t]\n\t\t\t})\n\t\t\treturn\n\t\t} catch (e) {\n\t\t\tconnection.sendNotification('custom/warning', `Found an internal error. Please report to the auther of OpenBUGS VSCode extension. The error is ${JSON.stringify(e)}`)\n\t\t}\n\t}\n}\n\nasync function handleDidSave(textDocument: TextDocument): Promise<void> {\n\tif (pathToStorage === undefined) {\n\t\tinitializePathToStorage().then(() => handleDidSave(textDocument))\n\t} else {\n\t\ttry {\n\t\t\tconnection.sendDiagnostics({\n\t\t\t\turi: textDocument.uri,\n\t\t\t\tdiagnostics: [\n\t\t\t\t\t...modelCheck(textDocument),\n\t\t\t\t\t...parseAndCheck(textDocument)\n\t\t\t\t]\n\t\t\t})\n\t\t\treturn\n\t\t} catch (e) {\n\t\t\tconnection.sendNotification('custom/warning', `Found an internal error. Please report to the auther of OpenBUGS VSCode extension. The error is ${JSON.stringify(e)}`)\n\t\t}\n\t}\n}\n\nlet freshCounter = 0;\nfunction freshPath(suffix: string = '.txt') {\n\tif (pathToStorage !== undefined) {\n\t\tfreshCounter++;\n\t\treturn path.join(pathToStorage, `${freshCounter}-${suffix}`)\n\t} else {\n\t\tthrow 'storage path is not defined yet.'\n\t}\n}\n\nfunction execModelCheckWin(modelPath: string): string {\n\tconst scriptPath: string = freshPath('script.txt');\n\tconst logPath: string = freshPath('log.txt');\n\tconst winPathToOpenBubsPath = (path) => path.replace(/\\\\/g, '/');\n\tconst scriptContent = [\n\t\t`modelDisplay('log')`,\n\t\t`modelCheck('${winPathToOpenBubsPath(modelPath)}')`,\n\t\t`modelSaveLog('${winPathToOpenBubsPath(logPath)}')`,\n\t\t`modelQuit('yes')`\n\t].join(os.EOL)\n\tfs.writeFileSync(scriptPath, scriptContent)\n\tconst command = `\"${pathToOpenBUGS}\" /PAR \"${winPathToOpenBubsPath(scriptPath)}\" /HEADLESS`\n\texecSync(command, { shell: 'cmd.exe' })\n\tconst result = fs.readFileSync(logPath).toString();\n\tfs.unlinkSync(scriptPath);\n\tfs.unlinkSync(logPath);\n\treturn result\n}\n\nfunction execModelCheck(textDocument: TextDocument): string {\n\tconst modelPath = freshPath('model.txt');\n\tfs.writeFileSync(modelPath, textDocument.getText());\n\tlet result: string;\n\tif (os.platform() === 'win32') {\n\t\tresult = execModelCheckWin(modelPath)\n\t} else {\n\t\tresult = execSync(`echo 'modelCheck(\"${modelPath}\")' | OpenBUGS`, { 'timeout': 300 }).toString()\n\t}\n\tfs.unlinkSync(modelPath);\n\treturn result\n}\n\nfunction modelCheck(textDocument: TextDocument): Diagnostic[] {\n\tfunction diagnosticOfLog(textDocument: TextDocument, log: string): Array<Diagnostic> {\n\t\t// skip shit and newline\n\t\tif (log.startsWith(\"OpenBUGS version\")) {\n\t\t\tlog = log.split(os.EOL).slice(1).join(os.EOL)\n\t\t}\n\t\tconst matchPos = /error pos ([\\d]+)/.exec(log)\n\t\tconst matchLine =  /on line ([\\d]+)/.exec(log)\n\t\tif (matchPos === null) {\n\t\t\tconnection.sendNotification('custom/information', log)\n\t\t\treturn []\n\t\t} else {\n\t\t\tconst pos = textDocument.positionAt(parseInt(matchPos[1]))\n\t\t\tif (matchLine !== null) {\n\t\t\t\tpos.line = parseInt(matchLine[1]) - 1\n\t\t\t}\n\t\t\tconst message = log\n\t\t\treturn [{\n\t\t\t\t'range': {\n\t\t\t\t\t'start': pos,\n\t\t\t\t\t'end': pos\n\t\t\t\t},\n\t\t\t\t'message': message,\n\t\t\t\t'source': 'OpenBUGS modelCheck'\n\t\t\t}]\n\t\t}\n\t}\n\n\tlet LogOfOpenBUGS = execModelCheck(textDocument);\n\treturn diagnosticOfLog(textDocument, LogOfOpenBUGS)\n}\n\nfunction parseAndCheck(textDocument: TextDocument): Array<Diagnostic> {\n\tconst text = textDocument.getText();\n\tdocumentContents.delete(textDocument.uri);\n\tconst parseResult = bugs.parse(text);\n\tif (parseResult.kind === 'error') {\n\t\treturn parseResult.content.map((err) => {\n\t\t\treturn {\n\t\t\t\tseverity: DiagnosticSeverity.Error,\n\t\t\t\trange: {\n\t\t\t\t\tstart: err.position,\n\t\t\t\t\tend: err.position,\n\t\t\t\t},\n\t\t\t\tmessage: err.message,\n\t\t\t\tsource: 'Reported by OpenBUGS Extension'\n\t\t\t};\n\t\t})\n\t} else {\n\t\tdocumentContents.set(textDocument.uri, parseResult.content);\n\t\treturn [];\n\t}\n}\n\nconnection.onDocumentFormatting(\n\t(params, token, workDoneProgress, resultProgress) => {\n\t\tconst { textDocument: { uri }, options } = params;\n\t\tconst term = documentContents.get(uri);\n\t\tif (term === undefined) {\n\t\t\tconnection.sendNotification('custom/information', 'Please fix grammar errors before formatting.')\n\t\t\treturn []\n\t\t} else {\n\t\t\tconst formattedText = bugs.prettyPrint(term);\n\t\t\tconst result: TextEdit[] = [];\n\t\t\tresult.push({\n\t\t\t\trange: {\n\t\t\t\t\tstart: { line: 0, character: 0 },\n\t\t\t\t\tend: { line: Number.MAX_VALUE, character: Number.MAX_VALUE }\n\t\t\t\t},\n\t\t\t\tnewText: formattedText || \"\"\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t});\n\ndocuments.listen(connection);\nconnection.listen();\n", "/* AutoGenerated Code, changes may be overwritten\n* INPUT GRAMMAR:\n* // This grammar of the BUGS language is created with manual inspectation of the OpenBUGS manual.\n* program  := before=sep body=programBody after=sep\n* programBody := list | rectangular | sectionList\n* rectangular := header=rectangularHeader body={sep=rowSep item=rectangularBodyItem}* sep=sep footer=rectangularFooter\n* colSep := blank\n* rowSep := blank '[\\n]' | blank comment=comment\n* rectangularHeader := content={sep=colSep item=name '\\[\\]'}+\n* rectangularFooter := colSep 'END'\n* rectangularBodyItem := content={sep=colSep item=scalar}+\n* section := header=sectionHeader sep=sep body=block\n* sectionHeader := v='model' | v='data'\n* sectionList := head=section tail={sep=sep item=section}*\n* block := '{' before=relationSep body=relationList after=relationSep '}'\n* relation    := stochasticRelation | deterministicRelation | indexedRelation\n* relationSep := body={sep=blank item=relationSepItem}* blank\n* relationSepItem := sepItem | v=';'\n* relationList := head=relation tail={sep=relationSep item=relation}*\n* cti := sep header=ctiHeader '[(]' sep lower=exp? '[,]' sep upper=exp?  sep'[)]'\n* ctiHeader := v='C' | v='T' | v='I'\n* stochasticRelation      := lhs=exp beforeOp=sep '~' afterOp=sep rhs=exp cti=cti?\n* deterministicRelation   := lhs=exp beforeOp=sep '<-' afterOp=sep rhs=exp\n* indexedRelation         := 'for' blank '\\(' blank name=name blank 'in' blank domain=exp blank '\\)' afterParenR=sep body=block\n* // simple concepts\n* blank   := v='[^\\S\\n]*'\n* newline := v='[\\n]'\n* comment := '[#]' content='[^\\n]*' '[\\n]'\n* sep     := body={sep=blank item=sepItem}* blank\n* sepItem := newline | comment\n* exp  := exp5\n* exp0 := scalar | name | '\\(' before=sep exp=exp5 after=sep '\\)'\n* exp1 := base=exp0 applications=application*\n* exp2 := '-' between=sep exp=exp1 | exp1\n* exp3 := left=exp3 beforeOp=sep op=addSub afterOp=sep right=exp2 | exp2\n* exp4 := left=exp4 beforeOp=sep op=mulDiv afterOp=sep right=exp3 | exp3\n* exp5 := left=exp5 beforeOp=sep ':' afterOp=sep right=exp4 | exp4 \n* application := functionApplication | vectorApplication\n* functionApplication := beforeParen=sep '\\(' beginArgs=sep operands=argumentList endArgs=sep '\\)'\n* vectorApplication := beforeParen=sep '\\[' beginInds=sep operands=indexList endInds=sep '\\]'\n* addSub := v='\\+' | v='-'\n* mulDiv := v='\\*' | v='/'\n* listExp     := scalar | NA | structure | 'c\\(' sep operands=listExpList sep '\\)'\n* listExpList := content={first=listExp rest={sep=operandSep item=listExp}*}?\n* list        := 'list[(]' beforeFields=sep operands=fieldList afterFields=sep '[)]'\n* structure   := 'structure[(]' begin=sep '\\.' sepDotData=sep 'Data' eqData=nameValueSep data=listExp operandSep '\\.' sepDotDim=sep 'Dim' eqDim=nameValueSep dim=listExp end=sep '[)]'\n* operandSep   := before=sep ',' after=sep\n* argument     := exp\n* argumentList := content={first=argument rest={sep=operandSep item=argument}*}?\n* indexList    := content={first=exp? rest={sep=operandSep item=exp?}*}?\n* field        := name=name sep=nameValueSep value=listExp\n* fieldList    := content={first=field rest={sep=operandSep item=field}*}?\n* nameValueSep := before=sep '=' after=sep\n* name   := from=@ value='[a-zA-Z][a-zA-Z0-9._]*' to=@\n* scalar := value='-?([\\d]+([.][\\d]+)?|([\\d]+)?[.][\\d]+)([eE]-?[\\d]+)?'\n* NA     := v='NA'\n*/\ntype Nullable<T> = T | null;\ntype $$RuleType<T> = () => Nullable<T>;\ninterface ASTNodeIntf {\n    kind: ASTKinds;\n}\nexport enum ASTKinds {\n    program = \"program\",\n    programBody_1 = \"programBody_1\",\n    programBody_2 = \"programBody_2\",\n    programBody_3 = \"programBody_3\",\n    rectangular = \"rectangular\",\n    rectangular_$0 = \"rectangular_$0\",\n    colSep = \"colSep\",\n    rowSep_1 = \"rowSep_1\",\n    rowSep_2 = \"rowSep_2\",\n    rectangularHeader = \"rectangularHeader\",\n    rectangularHeader_$0 = \"rectangularHeader_$0\",\n    rectangularFooter = \"rectangularFooter\",\n    rectangularBodyItem = \"rectangularBodyItem\",\n    rectangularBodyItem_$0 = \"rectangularBodyItem_$0\",\n    section = \"section\",\n    sectionHeader_1 = \"sectionHeader_1\",\n    sectionHeader_2 = \"sectionHeader_2\",\n    sectionList = \"sectionList\",\n    sectionList_$0 = \"sectionList_$0\",\n    block = \"block\",\n    relation_1 = \"relation_1\",\n    relation_2 = \"relation_2\",\n    relation_3 = \"relation_3\",\n    relationSep = \"relationSep\",\n    relationSep_$0 = \"relationSep_$0\",\n    relationSepItem_1 = \"relationSepItem_1\",\n    relationSepItem_2 = \"relationSepItem_2\",\n    relationList = \"relationList\",\n    relationList_$0 = \"relationList_$0\",\n    cti = \"cti\",\n    ctiHeader_1 = \"ctiHeader_1\",\n    ctiHeader_2 = \"ctiHeader_2\",\n    ctiHeader_3 = \"ctiHeader_3\",\n    stochasticRelation = \"stochasticRelation\",\n    deterministicRelation = \"deterministicRelation\",\n    indexedRelation = \"indexedRelation\",\n    blank = \"blank\",\n    newline = \"newline\",\n    comment = \"comment\",\n    sep = \"sep\",\n    sep_$0 = \"sep_$0\",\n    sepItem_1 = \"sepItem_1\",\n    sepItem_2 = \"sepItem_2\",\n    exp = \"exp\",\n    exp0_1 = \"exp0_1\",\n    exp0_2 = \"exp0_2\",\n    exp0_3 = \"exp0_3\",\n    exp1 = \"exp1\",\n    exp2_1 = \"exp2_1\",\n    exp2_2 = \"exp2_2\",\n    exp3_1 = \"exp3_1\",\n    exp3_2 = \"exp3_2\",\n    exp4_1 = \"exp4_1\",\n    exp4_2 = \"exp4_2\",\n    exp5_1 = \"exp5_1\",\n    exp5_2 = \"exp5_2\",\n    application_1 = \"application_1\",\n    application_2 = \"application_2\",\n    functionApplication = \"functionApplication\",\n    vectorApplication = \"vectorApplication\",\n    addSub_1 = \"addSub_1\",\n    addSub_2 = \"addSub_2\",\n    mulDiv_1 = \"mulDiv_1\",\n    mulDiv_2 = \"mulDiv_2\",\n    listExp_1 = \"listExp_1\",\n    listExp_2 = \"listExp_2\",\n    listExp_3 = \"listExp_3\",\n    listExp_4 = \"listExp_4\",\n    listExpList = \"listExpList\",\n    listExpList_$0 = \"listExpList_$0\",\n    listExpList_$0_$0 = \"listExpList_$0_$0\",\n    list = \"list\",\n    structure = \"structure\",\n    operandSep = \"operandSep\",\n    argument = \"argument\",\n    argumentList = \"argumentList\",\n    argumentList_$0 = \"argumentList_$0\",\n    argumentList_$0_$0 = \"argumentList_$0_$0\",\n    indexList = \"indexList\",\n    indexList_$0 = \"indexList_$0\",\n    indexList_$0_$0 = \"indexList_$0_$0\",\n    field = \"field\",\n    fieldList = \"fieldList\",\n    fieldList_$0 = \"fieldList_$0\",\n    fieldList_$0_$0 = \"fieldList_$0_$0\",\n    nameValueSep = \"nameValueSep\",\n    name = \"name\",\n    scalar = \"scalar\",\n    NA = \"NA\",\n}\nexport interface program {\n    kind: ASTKinds.program;\n    before: sep;\n    body: programBody;\n    after: sep;\n}\nexport type programBody = programBody_1 | programBody_2 | programBody_3;\nexport type programBody_1 = list;\nexport type programBody_2 = rectangular;\nexport type programBody_3 = sectionList;\nexport interface rectangular {\n    kind: ASTKinds.rectangular;\n    header: rectangularHeader;\n    body: rectangular_$0[];\n    sep: sep;\n    footer: rectangularFooter;\n}\nexport interface rectangular_$0 {\n    kind: ASTKinds.rectangular_$0;\n    sep: rowSep;\n    item: rectangularBodyItem;\n}\nexport type colSep = blank;\nexport type rowSep = rowSep_1 | rowSep_2;\nexport interface rowSep_1 {\n    kind: ASTKinds.rowSep_1;\n}\nexport interface rowSep_2 {\n    kind: ASTKinds.rowSep_2;\n    comment: comment;\n}\nexport interface rectangularHeader {\n    kind: ASTKinds.rectangularHeader;\n    content: rectangularHeader_$0[];\n}\nexport interface rectangularHeader_$0 {\n    kind: ASTKinds.rectangularHeader_$0;\n    sep: colSep;\n    item: name;\n}\nexport interface rectangularFooter {\n    kind: ASTKinds.rectangularFooter;\n}\nexport interface rectangularBodyItem {\n    kind: ASTKinds.rectangularBodyItem;\n    content: rectangularBodyItem_$0[];\n}\nexport interface rectangularBodyItem_$0 {\n    kind: ASTKinds.rectangularBodyItem_$0;\n    sep: colSep;\n    item: scalar;\n}\nexport interface section {\n    kind: ASTKinds.section;\n    header: sectionHeader;\n    sep: sep;\n    body: block;\n}\nexport type sectionHeader = sectionHeader_1 | sectionHeader_2;\nexport interface sectionHeader_1 {\n    kind: ASTKinds.sectionHeader_1;\n    v: string;\n}\nexport interface sectionHeader_2 {\n    kind: ASTKinds.sectionHeader_2;\n    v: string;\n}\nexport interface sectionList {\n    kind: ASTKinds.sectionList;\n    head: section;\n    tail: sectionList_$0[];\n}\nexport interface sectionList_$0 {\n    kind: ASTKinds.sectionList_$0;\n    sep: sep;\n    item: section;\n}\nexport interface block {\n    kind: ASTKinds.block;\n    before: relationSep;\n    body: relationList;\n    after: relationSep;\n}\nexport type relation = relation_1 | relation_2 | relation_3;\nexport type relation_1 = stochasticRelation;\nexport type relation_2 = deterministicRelation;\nexport type relation_3 = indexedRelation;\nexport interface relationSep {\n    kind: ASTKinds.relationSep;\n    body: relationSep_$0[];\n}\nexport interface relationSep_$0 {\n    kind: ASTKinds.relationSep_$0;\n    sep: blank;\n    item: relationSepItem;\n}\nexport type relationSepItem = relationSepItem_1 | relationSepItem_2;\nexport type relationSepItem_1 = sepItem;\nexport interface relationSepItem_2 {\n    kind: ASTKinds.relationSepItem_2;\n    v: string;\n}\nexport interface relationList {\n    kind: ASTKinds.relationList;\n    head: relation;\n    tail: relationList_$0[];\n}\nexport interface relationList_$0 {\n    kind: ASTKinds.relationList_$0;\n    sep: relationSep;\n    item: relation;\n}\nexport interface cti {\n    kind: ASTKinds.cti;\n    header: ctiHeader;\n    lower: Nullable<exp>;\n    upper: Nullable<exp>;\n}\nexport type ctiHeader = ctiHeader_1 | ctiHeader_2 | ctiHeader_3;\nexport interface ctiHeader_1 {\n    kind: ASTKinds.ctiHeader_1;\n    v: string;\n}\nexport interface ctiHeader_2 {\n    kind: ASTKinds.ctiHeader_2;\n    v: string;\n}\nexport interface ctiHeader_3 {\n    kind: ASTKinds.ctiHeader_3;\n    v: string;\n}\nexport interface stochasticRelation {\n    kind: ASTKinds.stochasticRelation;\n    lhs: exp;\n    beforeOp: sep;\n    afterOp: sep;\n    rhs: exp;\n    cti: Nullable<cti>;\n}\nexport interface deterministicRelation {\n    kind: ASTKinds.deterministicRelation;\n    lhs: exp;\n    beforeOp: sep;\n    afterOp: sep;\n    rhs: exp;\n}\nexport interface indexedRelation {\n    kind: ASTKinds.indexedRelation;\n    name: name;\n    domain: exp;\n    afterParenR: sep;\n    body: block;\n}\nexport interface blank {\n    kind: ASTKinds.blank;\n    v: string;\n}\nexport interface newline {\n    kind: ASTKinds.newline;\n    v: string;\n}\nexport interface comment {\n    kind: ASTKinds.comment;\n    content: string;\n}\nexport interface sep {\n    kind: ASTKinds.sep;\n    body: sep_$0[];\n}\nexport interface sep_$0 {\n    kind: ASTKinds.sep_$0;\n    sep: blank;\n    item: sepItem;\n}\nexport type sepItem = sepItem_1 | sepItem_2;\nexport type sepItem_1 = newline;\nexport type sepItem_2 = comment;\nexport type exp = exp5;\nexport type exp0 = exp0_1 | exp0_2 | exp0_3;\nexport type exp0_1 = scalar;\nexport type exp0_2 = name;\nexport interface exp0_3 {\n    kind: ASTKinds.exp0_3;\n    before: sep;\n    exp: exp5;\n    after: sep;\n}\nexport interface exp1 {\n    kind: ASTKinds.exp1;\n    base: exp0;\n    applications: application[];\n}\nexport type exp2 = exp2_1 | exp2_2;\nexport interface exp2_1 {\n    kind: ASTKinds.exp2_1;\n    between: sep;\n    exp: exp1;\n}\nexport type exp2_2 = exp1;\nexport type exp3 = exp3_1 | exp3_2;\nexport interface exp3_1 {\n    kind: ASTKinds.exp3_1;\n    left: exp3;\n    beforeOp: sep;\n    op: addSub;\n    afterOp: sep;\n    right: exp2;\n}\nexport type exp3_2 = exp2;\nexport type exp4 = exp4_1 | exp4_2;\nexport interface exp4_1 {\n    kind: ASTKinds.exp4_1;\n    left: exp4;\n    beforeOp: sep;\n    op: mulDiv;\n    afterOp: sep;\n    right: exp3;\n}\nexport type exp4_2 = exp3;\nexport type exp5 = exp5_1 | exp5_2;\nexport interface exp5_1 {\n    kind: ASTKinds.exp5_1;\n    left: exp5;\n    beforeOp: sep;\n    afterOp: sep;\n    right: exp4;\n}\nexport type exp5_2 = exp4;\nexport type application = application_1 | application_2;\nexport type application_1 = functionApplication;\nexport type application_2 = vectorApplication;\nexport interface functionApplication {\n    kind: ASTKinds.functionApplication;\n    beforeParen: sep;\n    beginArgs: sep;\n    operands: argumentList;\n    endArgs: sep;\n}\nexport interface vectorApplication {\n    kind: ASTKinds.vectorApplication;\n    beforeParen: sep;\n    beginInds: sep;\n    operands: indexList;\n    endInds: sep;\n}\nexport type addSub = addSub_1 | addSub_2;\nexport interface addSub_1 {\n    kind: ASTKinds.addSub_1;\n    v: string;\n}\nexport interface addSub_2 {\n    kind: ASTKinds.addSub_2;\n    v: string;\n}\nexport type mulDiv = mulDiv_1 | mulDiv_2;\nexport interface mulDiv_1 {\n    kind: ASTKinds.mulDiv_1;\n    v: string;\n}\nexport interface mulDiv_2 {\n    kind: ASTKinds.mulDiv_2;\n    v: string;\n}\nexport type listExp = listExp_1 | listExp_2 | listExp_3 | listExp_4;\nexport type listExp_1 = scalar;\nexport type listExp_2 = NA;\nexport type listExp_3 = structure;\nexport interface listExp_4 {\n    kind: ASTKinds.listExp_4;\n    operands: listExpList;\n}\nexport interface listExpList {\n    kind: ASTKinds.listExpList;\n    content: Nullable<listExpList_$0>;\n}\nexport interface listExpList_$0 {\n    kind: ASTKinds.listExpList_$0;\n    first: listExp;\n    rest: listExpList_$0_$0[];\n}\nexport interface listExpList_$0_$0 {\n    kind: ASTKinds.listExpList_$0_$0;\n    sep: operandSep;\n    item: listExp;\n}\nexport interface list {\n    kind: ASTKinds.list;\n    beforeFields: sep;\n    operands: fieldList;\n    afterFields: sep;\n}\nexport interface structure {\n    kind: ASTKinds.structure;\n    begin: sep;\n    sepDotData: sep;\n    eqData: nameValueSep;\n    data: listExp;\n    sepDotDim: sep;\n    eqDim: nameValueSep;\n    dim: listExp;\n    end: sep;\n}\nexport interface operandSep {\n    kind: ASTKinds.operandSep;\n    before: sep;\n    after: sep;\n}\nexport type argument = exp;\nexport interface argumentList {\n    kind: ASTKinds.argumentList;\n    content: Nullable<argumentList_$0>;\n}\nexport interface argumentList_$0 {\n    kind: ASTKinds.argumentList_$0;\n    first: argument;\n    rest: argumentList_$0_$0[];\n}\nexport interface argumentList_$0_$0 {\n    kind: ASTKinds.argumentList_$0_$0;\n    sep: operandSep;\n    item: argument;\n}\nexport interface indexList {\n    kind: ASTKinds.indexList;\n    content: Nullable<indexList_$0>;\n}\nexport interface indexList_$0 {\n    kind: ASTKinds.indexList_$0;\n    first: Nullable<exp>;\n    rest: indexList_$0_$0[];\n}\nexport interface indexList_$0_$0 {\n    kind: ASTKinds.indexList_$0_$0;\n    sep: operandSep;\n    item: Nullable<exp>;\n}\nexport interface field {\n    kind: ASTKinds.field;\n    name: name;\n    sep: nameValueSep;\n    value: listExp;\n}\nexport interface fieldList {\n    kind: ASTKinds.fieldList;\n    content: Nullable<fieldList_$0>;\n}\nexport interface fieldList_$0 {\n    kind: ASTKinds.fieldList_$0;\n    first: field;\n    rest: fieldList_$0_$0[];\n}\nexport interface fieldList_$0_$0 {\n    kind: ASTKinds.fieldList_$0_$0;\n    sep: operandSep;\n    item: field;\n}\nexport interface nameValueSep {\n    kind: ASTKinds.nameValueSep;\n    before: sep;\n    after: sep;\n}\nexport interface name {\n    kind: ASTKinds.name;\n    from: PosInfo;\n    value: string;\n    to: PosInfo;\n}\nexport interface scalar {\n    kind: ASTKinds.scalar;\n    value: string;\n}\nexport interface NA {\n    kind: ASTKinds.NA;\n    v: string;\n}\nexport class Parser {\n    private readonly input: string;\n    private pos: PosInfo;\n    private negating: boolean = false;\n    private memoSafe: boolean = true;\n    constructor(input: string) {\n        this.pos = {overallPos: 0, line: 1, offset: 0};\n        this.input = input;\n    }\n    public reset(pos: PosInfo) {\n        this.pos = pos;\n    }\n    public finished(): boolean {\n        return this.pos.overallPos === this.input.length;\n    }\n    public clearMemos(): void {\n        this.$scope$exp3$memo.clear();\n        this.$scope$exp4$memo.clear();\n        this.$scope$exp5$memo.clear();\n    }\n    protected $scope$exp3$memo: Map<number, [Nullable<exp3>, PosInfo]> = new Map();\n    protected $scope$exp4$memo: Map<number, [Nullable<exp4>, PosInfo]> = new Map();\n    protected $scope$exp5$memo: Map<number, [Nullable<exp5>, PosInfo]> = new Map();\n    public matchprogram($$dpth: number, $$cr?: ErrorTracker): Nullable<program> {\n        return this.run<program>($$dpth,\n            () => {\n                let $scope$before: Nullable<sep>;\n                let $scope$body: Nullable<programBody>;\n                let $scope$after: Nullable<sep>;\n                let $$res: Nullable<program> = null;\n                if (true\n                    && ($scope$before = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$body = this.matchprogramBody($$dpth + 1, $$cr)) !== null\n                    && ($scope$after = this.matchsep($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.program, before: $scope$before, body: $scope$body, after: $scope$after};\n                }\n                return $$res;\n            });\n    }\n    public matchprogramBody($$dpth: number, $$cr?: ErrorTracker): Nullable<programBody> {\n        return this.choice<programBody>([\n            () => this.matchprogramBody_1($$dpth + 1, $$cr),\n            () => this.matchprogramBody_2($$dpth + 1, $$cr),\n            () => this.matchprogramBody_3($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchprogramBody_1($$dpth: number, $$cr?: ErrorTracker): Nullable<programBody_1> {\n        return this.matchlist($$dpth + 1, $$cr);\n    }\n    public matchprogramBody_2($$dpth: number, $$cr?: ErrorTracker): Nullable<programBody_2> {\n        return this.matchrectangular($$dpth + 1, $$cr);\n    }\n    public matchprogramBody_3($$dpth: number, $$cr?: ErrorTracker): Nullable<programBody_3> {\n        return this.matchsectionList($$dpth + 1, $$cr);\n    }\n    public matchrectangular($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangular> {\n        return this.run<rectangular>($$dpth,\n            () => {\n                let $scope$header: Nullable<rectangularHeader>;\n                let $scope$body: Nullable<rectangular_$0[]>;\n                let $scope$sep: Nullable<sep>;\n                let $scope$footer: Nullable<rectangularFooter>;\n                let $$res: Nullable<rectangular> = null;\n                if (true\n                    && ($scope$header = this.matchrectangularHeader($$dpth + 1, $$cr)) !== null\n                    && ($scope$body = this.loop<rectangular_$0>(() => this.matchrectangular_$0($$dpth + 1, $$cr), true)) !== null\n                    && ($scope$sep = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$footer = this.matchrectangularFooter($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangular, header: $scope$header, body: $scope$body, sep: $scope$sep, footer: $scope$footer};\n                }\n                return $$res;\n            });\n    }\n    public matchrectangular_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangular_$0> {\n        return this.run<rectangular_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<rowSep>;\n                let $scope$item: Nullable<rectangularBodyItem>;\n                let $$res: Nullable<rectangular_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchrowSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchrectangularBodyItem($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangular_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchcolSep($$dpth: number, $$cr?: ErrorTracker): Nullable<colSep> {\n        return this.matchblank($$dpth + 1, $$cr);\n    }\n    public matchrowSep($$dpth: number, $$cr?: ErrorTracker): Nullable<rowSep> {\n        return this.choice<rowSep>([\n            () => this.matchrowSep_1($$dpth + 1, $$cr),\n            () => this.matchrowSep_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchrowSep_1($$dpth: number, $$cr?: ErrorTracker): Nullable<rowSep_1> {\n        return this.run<rowSep_1>($$dpth,\n            () => {\n                let $$res: Nullable<rowSep_1> = null;\n                if (true\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:[\\n])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rowSep_1, };\n                }\n                return $$res;\n            });\n    }\n    public matchrowSep_2($$dpth: number, $$cr?: ErrorTracker): Nullable<rowSep_2> {\n        return this.run<rowSep_2>($$dpth,\n            () => {\n                let $scope$comment: Nullable<comment>;\n                let $$res: Nullable<rowSep_2> = null;\n                if (true\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && ($scope$comment = this.matchcomment($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rowSep_2, comment: $scope$comment};\n                }\n                return $$res;\n            });\n    }\n    public matchrectangularHeader($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangularHeader> {\n        return this.run<rectangularHeader>($$dpth,\n            () => {\n                let $scope$content: Nullable<rectangularHeader_$0[]>;\n                let $$res: Nullable<rectangularHeader> = null;\n                if (true\n                    && ($scope$content = this.loop<rectangularHeader_$0>(() => this.matchrectangularHeader_$0($$dpth + 1, $$cr), false)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangularHeader, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchrectangularHeader_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangularHeader_$0> {\n        return this.run<rectangularHeader_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<colSep>;\n                let $scope$item: Nullable<name>;\n                let $$res: Nullable<rectangularHeader_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchcolSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchname($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\[\\])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangularHeader_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchrectangularFooter($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangularFooter> {\n        return this.run<rectangularFooter>($$dpth,\n            () => {\n                let $$res: Nullable<rectangularFooter> = null;\n                if (true\n                    && this.matchcolSep($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:END)`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangularFooter, };\n                }\n                return $$res;\n            });\n    }\n    public matchrectangularBodyItem($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangularBodyItem> {\n        return this.run<rectangularBodyItem>($$dpth,\n            () => {\n                let $scope$content: Nullable<rectangularBodyItem_$0[]>;\n                let $$res: Nullable<rectangularBodyItem> = null;\n                if (true\n                    && ($scope$content = this.loop<rectangularBodyItem_$0>(() => this.matchrectangularBodyItem_$0($$dpth + 1, $$cr), false)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangularBodyItem, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchrectangularBodyItem_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<rectangularBodyItem_$0> {\n        return this.run<rectangularBodyItem_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<colSep>;\n                let $scope$item: Nullable<scalar>;\n                let $$res: Nullable<rectangularBodyItem_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchcolSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchscalar($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.rectangularBodyItem_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchsection($$dpth: number, $$cr?: ErrorTracker): Nullable<section> {\n        return this.run<section>($$dpth,\n            () => {\n                let $scope$header: Nullable<sectionHeader>;\n                let $scope$sep: Nullable<sep>;\n                let $scope$body: Nullable<block>;\n                let $$res: Nullable<section> = null;\n                if (true\n                    && ($scope$header = this.matchsectionHeader($$dpth + 1, $$cr)) !== null\n                    && ($scope$sep = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$body = this.matchblock($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.section, header: $scope$header, sep: $scope$sep, body: $scope$body};\n                }\n                return $$res;\n            });\n    }\n    public matchsectionHeader($$dpth: number, $$cr?: ErrorTracker): Nullable<sectionHeader> {\n        return this.choice<sectionHeader>([\n            () => this.matchsectionHeader_1($$dpth + 1, $$cr),\n            () => this.matchsectionHeader_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchsectionHeader_1($$dpth: number, $$cr?: ErrorTracker): Nullable<sectionHeader_1> {\n        return this.run<sectionHeader_1>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<sectionHeader_1> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:model)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.sectionHeader_1, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchsectionHeader_2($$dpth: number, $$cr?: ErrorTracker): Nullable<sectionHeader_2> {\n        return this.run<sectionHeader_2>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<sectionHeader_2> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:data)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.sectionHeader_2, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchsectionList($$dpth: number, $$cr?: ErrorTracker): Nullable<sectionList> {\n        return this.run<sectionList>($$dpth,\n            () => {\n                let $scope$head: Nullable<section>;\n                let $scope$tail: Nullable<sectionList_$0[]>;\n                let $$res: Nullable<sectionList> = null;\n                if (true\n                    && ($scope$head = this.matchsection($$dpth + 1, $$cr)) !== null\n                    && ($scope$tail = this.loop<sectionList_$0>(() => this.matchsectionList_$0($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.sectionList, head: $scope$head, tail: $scope$tail};\n                }\n                return $$res;\n            });\n    }\n    public matchsectionList_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<sectionList_$0> {\n        return this.run<sectionList_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<sep>;\n                let $scope$item: Nullable<section>;\n                let $$res: Nullable<sectionList_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchsection($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.sectionList_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchblock($$dpth: number, $$cr?: ErrorTracker): Nullable<block> {\n        return this.run<block>($$dpth,\n            () => {\n                let $scope$before: Nullable<relationSep>;\n                let $scope$body: Nullable<relationList>;\n                let $scope$after: Nullable<relationSep>;\n                let $$res: Nullable<block> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:{)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$before = this.matchrelationSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$body = this.matchrelationList($$dpth + 1, $$cr)) !== null\n                    && ($scope$after = this.matchrelationSep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:})`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.block, before: $scope$before, body: $scope$body, after: $scope$after};\n                }\n                return $$res;\n            });\n    }\n    public matchrelation($$dpth: number, $$cr?: ErrorTracker): Nullable<relation> {\n        return this.choice<relation>([\n            () => this.matchrelation_1($$dpth + 1, $$cr),\n            () => this.matchrelation_2($$dpth + 1, $$cr),\n            () => this.matchrelation_3($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchrelation_1($$dpth: number, $$cr?: ErrorTracker): Nullable<relation_1> {\n        return this.matchstochasticRelation($$dpth + 1, $$cr);\n    }\n    public matchrelation_2($$dpth: number, $$cr?: ErrorTracker): Nullable<relation_2> {\n        return this.matchdeterministicRelation($$dpth + 1, $$cr);\n    }\n    public matchrelation_3($$dpth: number, $$cr?: ErrorTracker): Nullable<relation_3> {\n        return this.matchindexedRelation($$dpth + 1, $$cr);\n    }\n    public matchrelationSep($$dpth: number, $$cr?: ErrorTracker): Nullable<relationSep> {\n        return this.run<relationSep>($$dpth,\n            () => {\n                let $scope$body: Nullable<relationSep_$0[]>;\n                let $$res: Nullable<relationSep> = null;\n                if (true\n                    && ($scope$body = this.loop<relationSep_$0>(() => this.matchrelationSep_$0($$dpth + 1, $$cr), true)) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.relationSep, body: $scope$body};\n                }\n                return $$res;\n            });\n    }\n    public matchrelationSep_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<relationSep_$0> {\n        return this.run<relationSep_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<blank>;\n                let $scope$item: Nullable<relationSepItem>;\n                let $$res: Nullable<relationSep_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchblank($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchrelationSepItem($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.relationSep_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchrelationSepItem($$dpth: number, $$cr?: ErrorTracker): Nullable<relationSepItem> {\n        return this.choice<relationSepItem>([\n            () => this.matchrelationSepItem_1($$dpth + 1, $$cr),\n            () => this.matchrelationSepItem_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchrelationSepItem_1($$dpth: number, $$cr?: ErrorTracker): Nullable<relationSepItem_1> {\n        return this.matchsepItem($$dpth + 1, $$cr);\n    }\n    public matchrelationSepItem_2($$dpth: number, $$cr?: ErrorTracker): Nullable<relationSepItem_2> {\n        return this.run<relationSepItem_2>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<relationSepItem_2> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:;)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.relationSepItem_2, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchrelationList($$dpth: number, $$cr?: ErrorTracker): Nullable<relationList> {\n        return this.run<relationList>($$dpth,\n            () => {\n                let $scope$head: Nullable<relation>;\n                let $scope$tail: Nullable<relationList_$0[]>;\n                let $$res: Nullable<relationList> = null;\n                if (true\n                    && ($scope$head = this.matchrelation($$dpth + 1, $$cr)) !== null\n                    && ($scope$tail = this.loop<relationList_$0>(() => this.matchrelationList_$0($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.relationList, head: $scope$head, tail: $scope$tail};\n                }\n                return $$res;\n            });\n    }\n    public matchrelationList_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<relationList_$0> {\n        return this.run<relationList_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<relationSep>;\n                let $scope$item: Nullable<relation>;\n                let $$res: Nullable<relationList_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchrelationSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchrelation($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.relationList_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchcti($$dpth: number, $$cr?: ErrorTracker): Nullable<cti> {\n        return this.run<cti>($$dpth,\n            () => {\n                let $scope$header: Nullable<ctiHeader>;\n                let $scope$lower: Nullable<Nullable<exp>>;\n                let $scope$upper: Nullable<Nullable<exp>>;\n                let $$res: Nullable<cti> = null;\n                if (true\n                    && this.matchsep($$dpth + 1, $$cr) !== null\n                    && ($scope$header = this.matchctiHeader($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:[(])`, $$dpth + 1, $$cr) !== null\n                    && this.matchsep($$dpth + 1, $$cr) !== null\n                    && (($scope$lower = this.matchexp($$dpth + 1, $$cr)) || true)\n                    && this.regexAccept(String.raw`(?:[,])`, $$dpth + 1, $$cr) !== null\n                    && this.matchsep($$dpth + 1, $$cr) !== null\n                    && (($scope$upper = this.matchexp($$dpth + 1, $$cr)) || true)\n                    && this.matchsep($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:[)])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.cti, header: $scope$header, lower: $scope$lower, upper: $scope$upper};\n                }\n                return $$res;\n            });\n    }\n    public matchctiHeader($$dpth: number, $$cr?: ErrorTracker): Nullable<ctiHeader> {\n        return this.choice<ctiHeader>([\n            () => this.matchctiHeader_1($$dpth + 1, $$cr),\n            () => this.matchctiHeader_2($$dpth + 1, $$cr),\n            () => this.matchctiHeader_3($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchctiHeader_1($$dpth: number, $$cr?: ErrorTracker): Nullable<ctiHeader_1> {\n        return this.run<ctiHeader_1>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<ctiHeader_1> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:C)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.ctiHeader_1, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchctiHeader_2($$dpth: number, $$cr?: ErrorTracker): Nullable<ctiHeader_2> {\n        return this.run<ctiHeader_2>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<ctiHeader_2> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:T)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.ctiHeader_2, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchctiHeader_3($$dpth: number, $$cr?: ErrorTracker): Nullable<ctiHeader_3> {\n        return this.run<ctiHeader_3>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<ctiHeader_3> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:I)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.ctiHeader_3, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchstochasticRelation($$dpth: number, $$cr?: ErrorTracker): Nullable<stochasticRelation> {\n        return this.run<stochasticRelation>($$dpth,\n            () => {\n                let $scope$lhs: Nullable<exp>;\n                let $scope$beforeOp: Nullable<sep>;\n                let $scope$afterOp: Nullable<sep>;\n                let $scope$rhs: Nullable<exp>;\n                let $scope$cti: Nullable<Nullable<cti>>;\n                let $$res: Nullable<stochasticRelation> = null;\n                if (true\n                    && ($scope$lhs = this.matchexp($$dpth + 1, $$cr)) !== null\n                    && ($scope$beforeOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:~)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$afterOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$rhs = this.matchexp($$dpth + 1, $$cr)) !== null\n                    && (($scope$cti = this.matchcti($$dpth + 1, $$cr)) || true)\n                ) {\n                    $$res = {kind: ASTKinds.stochasticRelation, lhs: $scope$lhs, beforeOp: $scope$beforeOp, afterOp: $scope$afterOp, rhs: $scope$rhs, cti: $scope$cti};\n                }\n                return $$res;\n            });\n    }\n    public matchdeterministicRelation($$dpth: number, $$cr?: ErrorTracker): Nullable<deterministicRelation> {\n        return this.run<deterministicRelation>($$dpth,\n            () => {\n                let $scope$lhs: Nullable<exp>;\n                let $scope$beforeOp: Nullable<sep>;\n                let $scope$afterOp: Nullable<sep>;\n                let $scope$rhs: Nullable<exp>;\n                let $$res: Nullable<deterministicRelation> = null;\n                if (true\n                    && ($scope$lhs = this.matchexp($$dpth + 1, $$cr)) !== null\n                    && ($scope$beforeOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:<-)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$afterOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$rhs = this.matchexp($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.deterministicRelation, lhs: $scope$lhs, beforeOp: $scope$beforeOp, afterOp: $scope$afterOp, rhs: $scope$rhs};\n                }\n                return $$res;\n            });\n    }\n    public matchindexedRelation($$dpth: number, $$cr?: ErrorTracker): Nullable<indexedRelation> {\n        return this.run<indexedRelation>($$dpth,\n            () => {\n                let $scope$name: Nullable<name>;\n                let $scope$domain: Nullable<exp>;\n                let $scope$afterParenR: Nullable<sep>;\n                let $scope$body: Nullable<block>;\n                let $$res: Nullable<indexedRelation> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:for)`, $$dpth + 1, $$cr) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:\\()`, $$dpth + 1, $$cr) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && ($scope$name = this.matchname($$dpth + 1, $$cr)) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:in)`, $$dpth + 1, $$cr) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && ($scope$domain = this.matchexp($$dpth + 1, $$cr)) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:\\))`, $$dpth + 1, $$cr) !== null\n                    && ($scope$afterParenR = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$body = this.matchblock($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.indexedRelation, name: $scope$name, domain: $scope$domain, afterParenR: $scope$afterParenR, body: $scope$body};\n                }\n                return $$res;\n            });\n    }\n    public matchblank($$dpth: number, $$cr?: ErrorTracker): Nullable<blank> {\n        return this.run<blank>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<blank> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:[^\\S\\n]*)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.blank, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchnewline($$dpth: number, $$cr?: ErrorTracker): Nullable<newline> {\n        return this.run<newline>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<newline> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:[\\n])`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.newline, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchcomment($$dpth: number, $$cr?: ErrorTracker): Nullable<comment> {\n        return this.run<comment>($$dpth,\n            () => {\n                let $scope$content: Nullable<string>;\n                let $$res: Nullable<comment> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:[#])`, $$dpth + 1, $$cr) !== null\n                    && ($scope$content = this.regexAccept(String.raw`(?:[^\\n]*)`, $$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:[\\n])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.comment, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchsep($$dpth: number, $$cr?: ErrorTracker): Nullable<sep> {\n        return this.run<sep>($$dpth,\n            () => {\n                let $scope$body: Nullable<sep_$0[]>;\n                let $$res: Nullable<sep> = null;\n                if (true\n                    && ($scope$body = this.loop<sep_$0>(() => this.matchsep_$0($$dpth + 1, $$cr), true)) !== null\n                    && this.matchblank($$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.sep, body: $scope$body};\n                }\n                return $$res;\n            });\n    }\n    public matchsep_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<sep_$0> {\n        return this.run<sep_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<blank>;\n                let $scope$item: Nullable<sepItem>;\n                let $$res: Nullable<sep_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchblank($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchsepItem($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.sep_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchsepItem($$dpth: number, $$cr?: ErrorTracker): Nullable<sepItem> {\n        return this.choice<sepItem>([\n            () => this.matchsepItem_1($$dpth + 1, $$cr),\n            () => this.matchsepItem_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchsepItem_1($$dpth: number, $$cr?: ErrorTracker): Nullable<sepItem_1> {\n        return this.matchnewline($$dpth + 1, $$cr);\n    }\n    public matchsepItem_2($$dpth: number, $$cr?: ErrorTracker): Nullable<sepItem_2> {\n        return this.matchcomment($$dpth + 1, $$cr);\n    }\n    public matchexp($$dpth: number, $$cr?: ErrorTracker): Nullable<exp> {\n        return this.matchexp5($$dpth + 1, $$cr);\n    }\n    public matchexp0($$dpth: number, $$cr?: ErrorTracker): Nullable<exp0> {\n        return this.choice<exp0>([\n            () => this.matchexp0_1($$dpth + 1, $$cr),\n            () => this.matchexp0_2($$dpth + 1, $$cr),\n            () => this.matchexp0_3($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchexp0_1($$dpth: number, $$cr?: ErrorTracker): Nullable<exp0_1> {\n        return this.matchscalar($$dpth + 1, $$cr);\n    }\n    public matchexp0_2($$dpth: number, $$cr?: ErrorTracker): Nullable<exp0_2> {\n        return this.matchname($$dpth + 1, $$cr);\n    }\n    public matchexp0_3($$dpth: number, $$cr?: ErrorTracker): Nullable<exp0_3> {\n        return this.run<exp0_3>($$dpth,\n            () => {\n                let $scope$before: Nullable<sep>;\n                let $scope$exp: Nullable<exp5>;\n                let $scope$after: Nullable<sep>;\n                let $$res: Nullable<exp0_3> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:\\()`, $$dpth + 1, $$cr) !== null\n                    && ($scope$before = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$exp = this.matchexp5($$dpth + 1, $$cr)) !== null\n                    && ($scope$after = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\))`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.exp0_3, before: $scope$before, exp: $scope$exp, after: $scope$after};\n                }\n                return $$res;\n            });\n    }\n    public matchexp1($$dpth: number, $$cr?: ErrorTracker): Nullable<exp1> {\n        return this.run<exp1>($$dpth,\n            () => {\n                let $scope$base: Nullable<exp0>;\n                let $scope$applications: Nullable<application[]>;\n                let $$res: Nullable<exp1> = null;\n                if (true\n                    && ($scope$base = this.matchexp0($$dpth + 1, $$cr)) !== null\n                    && ($scope$applications = this.loop<application>(() => this.matchapplication($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.exp1, base: $scope$base, applications: $scope$applications};\n                }\n                return $$res;\n            });\n    }\n    public matchexp2($$dpth: number, $$cr?: ErrorTracker): Nullable<exp2> {\n        return this.choice<exp2>([\n            () => this.matchexp2_1($$dpth + 1, $$cr),\n            () => this.matchexp2_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchexp2_1($$dpth: number, $$cr?: ErrorTracker): Nullable<exp2_1> {\n        return this.run<exp2_1>($$dpth,\n            () => {\n                let $scope$between: Nullable<sep>;\n                let $scope$exp: Nullable<exp1>;\n                let $$res: Nullable<exp2_1> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:-)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$between = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$exp = this.matchexp1($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.exp2_1, between: $scope$between, exp: $scope$exp};\n                }\n                return $$res;\n            });\n    }\n    public matchexp2_2($$dpth: number, $$cr?: ErrorTracker): Nullable<exp2_2> {\n        return this.matchexp1($$dpth + 1, $$cr);\n    }\n    public matchexp3($$dpth: number, $$cr?: ErrorTracker): Nullable<exp3> {\n        const fn = () => {\n            return this.choice<exp3>([\n                () => this.matchexp3_1($$dpth + 1, $$cr),\n                () => this.matchexp3_2($$dpth + 1, $$cr),\n            ]);\n        };\n        const $scope$pos = this.mark();\n        const memo = this.$scope$exp3$memo.get($scope$pos.overallPos);\n        if(memo !== undefined) {\n            this.reset(memo[1]);\n            return memo[0];\n        }\n        const $scope$oldMemoSafe = this.memoSafe;\n        this.memoSafe = false;\n        this.$scope$exp3$memo.set($scope$pos.overallPos, [null, $scope$pos]);\n        let lastRes: Nullable<exp3> = null;\n        let lastPos: PosInfo = $scope$pos;\n        for(;;) {\n            this.reset($scope$pos);\n            const res = fn();\n            const end = this.mark();\n            if(end.overallPos <= lastPos.overallPos)\n                break;\n            lastRes = res;\n            lastPos = end;\n            this.$scope$exp3$memo.set($scope$pos.overallPos, [lastRes, lastPos]);\n        }\n        this.reset(lastPos);\n        this.memoSafe = $scope$oldMemoSafe;\n        return lastRes;\n    }\n    public matchexp3_1($$dpth: number, $$cr?: ErrorTracker): Nullable<exp3_1> {\n        return this.run<exp3_1>($$dpth,\n            () => {\n                let $scope$left: Nullable<exp3>;\n                let $scope$beforeOp: Nullable<sep>;\n                let $scope$op: Nullable<addSub>;\n                let $scope$afterOp: Nullable<sep>;\n                let $scope$right: Nullable<exp2>;\n                let $$res: Nullable<exp3_1> = null;\n                if (true\n                    && ($scope$left = this.matchexp3($$dpth + 1, $$cr)) !== null\n                    && ($scope$beforeOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$op = this.matchaddSub($$dpth + 1, $$cr)) !== null\n                    && ($scope$afterOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$right = this.matchexp2($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.exp3_1, left: $scope$left, beforeOp: $scope$beforeOp, op: $scope$op, afterOp: $scope$afterOp, right: $scope$right};\n                }\n                return $$res;\n            });\n    }\n    public matchexp3_2($$dpth: number, $$cr?: ErrorTracker): Nullable<exp3_2> {\n        return this.matchexp2($$dpth + 1, $$cr);\n    }\n    public matchexp4($$dpth: number, $$cr?: ErrorTracker): Nullable<exp4> {\n        const fn = () => {\n            return this.choice<exp4>([\n                () => this.matchexp4_1($$dpth + 1, $$cr),\n                () => this.matchexp4_2($$dpth + 1, $$cr),\n            ]);\n        };\n        const $scope$pos = this.mark();\n        const memo = this.$scope$exp4$memo.get($scope$pos.overallPos);\n        if(memo !== undefined) {\n            this.reset(memo[1]);\n            return memo[0];\n        }\n        const $scope$oldMemoSafe = this.memoSafe;\n        this.memoSafe = false;\n        this.$scope$exp4$memo.set($scope$pos.overallPos, [null, $scope$pos]);\n        let lastRes: Nullable<exp4> = null;\n        let lastPos: PosInfo = $scope$pos;\n        for(;;) {\n            this.reset($scope$pos);\n            const res = fn();\n            const end = this.mark();\n            if(end.overallPos <= lastPos.overallPos)\n                break;\n            lastRes = res;\n            lastPos = end;\n            this.$scope$exp4$memo.set($scope$pos.overallPos, [lastRes, lastPos]);\n        }\n        this.reset(lastPos);\n        this.memoSafe = $scope$oldMemoSafe;\n        return lastRes;\n    }\n    public matchexp4_1($$dpth: number, $$cr?: ErrorTracker): Nullable<exp4_1> {\n        return this.run<exp4_1>($$dpth,\n            () => {\n                let $scope$left: Nullable<exp4>;\n                let $scope$beforeOp: Nullable<sep>;\n                let $scope$op: Nullable<mulDiv>;\n                let $scope$afterOp: Nullable<sep>;\n                let $scope$right: Nullable<exp3>;\n                let $$res: Nullable<exp4_1> = null;\n                if (true\n                    && ($scope$left = this.matchexp4($$dpth + 1, $$cr)) !== null\n                    && ($scope$beforeOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$op = this.matchmulDiv($$dpth + 1, $$cr)) !== null\n                    && ($scope$afterOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$right = this.matchexp3($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.exp4_1, left: $scope$left, beforeOp: $scope$beforeOp, op: $scope$op, afterOp: $scope$afterOp, right: $scope$right};\n                }\n                return $$res;\n            });\n    }\n    public matchexp4_2($$dpth: number, $$cr?: ErrorTracker): Nullable<exp4_2> {\n        return this.matchexp3($$dpth + 1, $$cr);\n    }\n    public matchexp5($$dpth: number, $$cr?: ErrorTracker): Nullable<exp5> {\n        const fn = () => {\n            return this.choice<exp5>([\n                () => this.matchexp5_1($$dpth + 1, $$cr),\n                () => this.matchexp5_2($$dpth + 1, $$cr),\n            ]);\n        };\n        const $scope$pos = this.mark();\n        const memo = this.$scope$exp5$memo.get($scope$pos.overallPos);\n        if(memo !== undefined) {\n            this.reset(memo[1]);\n            return memo[0];\n        }\n        const $scope$oldMemoSafe = this.memoSafe;\n        this.memoSafe = false;\n        this.$scope$exp5$memo.set($scope$pos.overallPos, [null, $scope$pos]);\n        let lastRes: Nullable<exp5> = null;\n        let lastPos: PosInfo = $scope$pos;\n        for(;;) {\n            this.reset($scope$pos);\n            const res = fn();\n            const end = this.mark();\n            if(end.overallPos <= lastPos.overallPos)\n                break;\n            lastRes = res;\n            lastPos = end;\n            this.$scope$exp5$memo.set($scope$pos.overallPos, [lastRes, lastPos]);\n        }\n        this.reset(lastPos);\n        this.memoSafe = $scope$oldMemoSafe;\n        return lastRes;\n    }\n    public matchexp5_1($$dpth: number, $$cr?: ErrorTracker): Nullable<exp5_1> {\n        return this.run<exp5_1>($$dpth,\n            () => {\n                let $scope$left: Nullable<exp5>;\n                let $scope$beforeOp: Nullable<sep>;\n                let $scope$afterOp: Nullable<sep>;\n                let $scope$right: Nullable<exp4>;\n                let $$res: Nullable<exp5_1> = null;\n                if (true\n                    && ($scope$left = this.matchexp5($$dpth + 1, $$cr)) !== null\n                    && ($scope$beforeOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?::)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$afterOp = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$right = this.matchexp4($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.exp5_1, left: $scope$left, beforeOp: $scope$beforeOp, afterOp: $scope$afterOp, right: $scope$right};\n                }\n                return $$res;\n            });\n    }\n    public matchexp5_2($$dpth: number, $$cr?: ErrorTracker): Nullable<exp5_2> {\n        return this.matchexp4($$dpth + 1, $$cr);\n    }\n    public matchapplication($$dpth: number, $$cr?: ErrorTracker): Nullable<application> {\n        return this.choice<application>([\n            () => this.matchapplication_1($$dpth + 1, $$cr),\n            () => this.matchapplication_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchapplication_1($$dpth: number, $$cr?: ErrorTracker): Nullable<application_1> {\n        return this.matchfunctionApplication($$dpth + 1, $$cr);\n    }\n    public matchapplication_2($$dpth: number, $$cr?: ErrorTracker): Nullable<application_2> {\n        return this.matchvectorApplication($$dpth + 1, $$cr);\n    }\n    public matchfunctionApplication($$dpth: number, $$cr?: ErrorTracker): Nullable<functionApplication> {\n        return this.run<functionApplication>($$dpth,\n            () => {\n                let $scope$beforeParen: Nullable<sep>;\n                let $scope$beginArgs: Nullable<sep>;\n                let $scope$operands: Nullable<argumentList>;\n                let $scope$endArgs: Nullable<sep>;\n                let $$res: Nullable<functionApplication> = null;\n                if (true\n                    && ($scope$beforeParen = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\()`, $$dpth + 1, $$cr) !== null\n                    && ($scope$beginArgs = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$operands = this.matchargumentList($$dpth + 1, $$cr)) !== null\n                    && ($scope$endArgs = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\))`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.functionApplication, beforeParen: $scope$beforeParen, beginArgs: $scope$beginArgs, operands: $scope$operands, endArgs: $scope$endArgs};\n                }\n                return $$res;\n            });\n    }\n    public matchvectorApplication($$dpth: number, $$cr?: ErrorTracker): Nullable<vectorApplication> {\n        return this.run<vectorApplication>($$dpth,\n            () => {\n                let $scope$beforeParen: Nullable<sep>;\n                let $scope$beginInds: Nullable<sep>;\n                let $scope$operands: Nullable<indexList>;\n                let $scope$endInds: Nullable<sep>;\n                let $$res: Nullable<vectorApplication> = null;\n                if (true\n                    && ($scope$beforeParen = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\[)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$beginInds = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$operands = this.matchindexList($$dpth + 1, $$cr)) !== null\n                    && ($scope$endInds = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.vectorApplication, beforeParen: $scope$beforeParen, beginInds: $scope$beginInds, operands: $scope$operands, endInds: $scope$endInds};\n                }\n                return $$res;\n            });\n    }\n    public matchaddSub($$dpth: number, $$cr?: ErrorTracker): Nullable<addSub> {\n        return this.choice<addSub>([\n            () => this.matchaddSub_1($$dpth + 1, $$cr),\n            () => this.matchaddSub_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchaddSub_1($$dpth: number, $$cr?: ErrorTracker): Nullable<addSub_1> {\n        return this.run<addSub_1>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<addSub_1> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:\\+)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.addSub_1, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchaddSub_2($$dpth: number, $$cr?: ErrorTracker): Nullable<addSub_2> {\n        return this.run<addSub_2>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<addSub_2> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:-)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.addSub_2, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchmulDiv($$dpth: number, $$cr?: ErrorTracker): Nullable<mulDiv> {\n        return this.choice<mulDiv>([\n            () => this.matchmulDiv_1($$dpth + 1, $$cr),\n            () => this.matchmulDiv_2($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchmulDiv_1($$dpth: number, $$cr?: ErrorTracker): Nullable<mulDiv_1> {\n        return this.run<mulDiv_1>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<mulDiv_1> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:\\*)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.mulDiv_1, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchmulDiv_2($$dpth: number, $$cr?: ErrorTracker): Nullable<mulDiv_2> {\n        return this.run<mulDiv_2>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<mulDiv_2> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:/)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.mulDiv_2, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public matchlistExp($$dpth: number, $$cr?: ErrorTracker): Nullable<listExp> {\n        return this.choice<listExp>([\n            () => this.matchlistExp_1($$dpth + 1, $$cr),\n            () => this.matchlistExp_2($$dpth + 1, $$cr),\n            () => this.matchlistExp_3($$dpth + 1, $$cr),\n            () => this.matchlistExp_4($$dpth + 1, $$cr),\n        ]);\n    }\n    public matchlistExp_1($$dpth: number, $$cr?: ErrorTracker): Nullable<listExp_1> {\n        return this.matchscalar($$dpth + 1, $$cr);\n    }\n    public matchlistExp_2($$dpth: number, $$cr?: ErrorTracker): Nullable<listExp_2> {\n        return this.matchNA($$dpth + 1, $$cr);\n    }\n    public matchlistExp_3($$dpth: number, $$cr?: ErrorTracker): Nullable<listExp_3> {\n        return this.matchstructure($$dpth + 1, $$cr);\n    }\n    public matchlistExp_4($$dpth: number, $$cr?: ErrorTracker): Nullable<listExp_4> {\n        return this.run<listExp_4>($$dpth,\n            () => {\n                let $scope$operands: Nullable<listExpList>;\n                let $$res: Nullable<listExp_4> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:c\\()`, $$dpth + 1, $$cr) !== null\n                    && this.matchsep($$dpth + 1, $$cr) !== null\n                    && ($scope$operands = this.matchlistExpList($$dpth + 1, $$cr)) !== null\n                    && this.matchsep($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:\\))`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.listExp_4, operands: $scope$operands};\n                }\n                return $$res;\n            });\n    }\n    public matchlistExpList($$dpth: number, $$cr?: ErrorTracker): Nullable<listExpList> {\n        return this.run<listExpList>($$dpth,\n            () => {\n                let $scope$content: Nullable<Nullable<listExpList_$0>>;\n                let $$res: Nullable<listExpList> = null;\n                if (true\n                    && (($scope$content = this.matchlistExpList_$0($$dpth + 1, $$cr)) || true)\n                ) {\n                    $$res = {kind: ASTKinds.listExpList, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchlistExpList_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<listExpList_$0> {\n        return this.run<listExpList_$0>($$dpth,\n            () => {\n                let $scope$first: Nullable<listExp>;\n                let $scope$rest: Nullable<listExpList_$0_$0[]>;\n                let $$res: Nullable<listExpList_$0> = null;\n                if (true\n                    && ($scope$first = this.matchlistExp($$dpth + 1, $$cr)) !== null\n                    && ($scope$rest = this.loop<listExpList_$0_$0>(() => this.matchlistExpList_$0_$0($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.listExpList_$0, first: $scope$first, rest: $scope$rest};\n                }\n                return $$res;\n            });\n    }\n    public matchlistExpList_$0_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<listExpList_$0_$0> {\n        return this.run<listExpList_$0_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<operandSep>;\n                let $scope$item: Nullable<listExp>;\n                let $$res: Nullable<listExpList_$0_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchoperandSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchlistExp($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.listExpList_$0_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchlist($$dpth: number, $$cr?: ErrorTracker): Nullable<list> {\n        return this.run<list>($$dpth,\n            () => {\n                let $scope$beforeFields: Nullable<sep>;\n                let $scope$operands: Nullable<fieldList>;\n                let $scope$afterFields: Nullable<sep>;\n                let $$res: Nullable<list> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:list[(])`, $$dpth + 1, $$cr) !== null\n                    && ($scope$beforeFields = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && ($scope$operands = this.matchfieldList($$dpth + 1, $$cr)) !== null\n                    && ($scope$afterFields = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:[)])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.list, beforeFields: $scope$beforeFields, operands: $scope$operands, afterFields: $scope$afterFields};\n                }\n                return $$res;\n            });\n    }\n    public matchstructure($$dpth: number, $$cr?: ErrorTracker): Nullable<structure> {\n        return this.run<structure>($$dpth,\n            () => {\n                let $scope$begin: Nullable<sep>;\n                let $scope$sepDotData: Nullable<sep>;\n                let $scope$eqData: Nullable<nameValueSep>;\n                let $scope$data: Nullable<listExp>;\n                let $scope$sepDotDim: Nullable<sep>;\n                let $scope$eqDim: Nullable<nameValueSep>;\n                let $scope$dim: Nullable<listExp>;\n                let $scope$end: Nullable<sep>;\n                let $$res: Nullable<structure> = null;\n                if (true\n                    && this.regexAccept(String.raw`(?:structure[(])`, $$dpth + 1, $$cr) !== null\n                    && ($scope$begin = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:\\.)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$sepDotData = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:Data)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$eqData = this.matchnameValueSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$data = this.matchlistExp($$dpth + 1, $$cr)) !== null\n                    && this.matchoperandSep($$dpth + 1, $$cr) !== null\n                    && this.regexAccept(String.raw`(?:\\.)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$sepDotDim = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:Dim)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$eqDim = this.matchnameValueSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$dim = this.matchlistExp($$dpth + 1, $$cr)) !== null\n                    && ($scope$end = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:[)])`, $$dpth + 1, $$cr) !== null\n                ) {\n                    $$res = {kind: ASTKinds.structure, begin: $scope$begin, sepDotData: $scope$sepDotData, eqData: $scope$eqData, data: $scope$data, sepDotDim: $scope$sepDotDim, eqDim: $scope$eqDim, dim: $scope$dim, end: $scope$end};\n                }\n                return $$res;\n            });\n    }\n    public matchoperandSep($$dpth: number, $$cr?: ErrorTracker): Nullable<operandSep> {\n        return this.run<operandSep>($$dpth,\n            () => {\n                let $scope$before: Nullable<sep>;\n                let $scope$after: Nullable<sep>;\n                let $$res: Nullable<operandSep> = null;\n                if (true\n                    && ($scope$before = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:,)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$after = this.matchsep($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.operandSep, before: $scope$before, after: $scope$after};\n                }\n                return $$res;\n            });\n    }\n    public matchargument($$dpth: number, $$cr?: ErrorTracker): Nullable<argument> {\n        return this.matchexp($$dpth + 1, $$cr);\n    }\n    public matchargumentList($$dpth: number, $$cr?: ErrorTracker): Nullable<argumentList> {\n        return this.run<argumentList>($$dpth,\n            () => {\n                let $scope$content: Nullable<Nullable<argumentList_$0>>;\n                let $$res: Nullable<argumentList> = null;\n                if (true\n                    && (($scope$content = this.matchargumentList_$0($$dpth + 1, $$cr)) || true)\n                ) {\n                    $$res = {kind: ASTKinds.argumentList, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchargumentList_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<argumentList_$0> {\n        return this.run<argumentList_$0>($$dpth,\n            () => {\n                let $scope$first: Nullable<argument>;\n                let $scope$rest: Nullable<argumentList_$0_$0[]>;\n                let $$res: Nullable<argumentList_$0> = null;\n                if (true\n                    && ($scope$first = this.matchargument($$dpth + 1, $$cr)) !== null\n                    && ($scope$rest = this.loop<argumentList_$0_$0>(() => this.matchargumentList_$0_$0($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.argumentList_$0, first: $scope$first, rest: $scope$rest};\n                }\n                return $$res;\n            });\n    }\n    public matchargumentList_$0_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<argumentList_$0_$0> {\n        return this.run<argumentList_$0_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<operandSep>;\n                let $scope$item: Nullable<argument>;\n                let $$res: Nullable<argumentList_$0_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchoperandSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchargument($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.argumentList_$0_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchindexList($$dpth: number, $$cr?: ErrorTracker): Nullable<indexList> {\n        return this.run<indexList>($$dpth,\n            () => {\n                let $scope$content: Nullable<Nullable<indexList_$0>>;\n                let $$res: Nullable<indexList> = null;\n                if (true\n                    && (($scope$content = this.matchindexList_$0($$dpth + 1, $$cr)) || true)\n                ) {\n                    $$res = {kind: ASTKinds.indexList, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchindexList_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<indexList_$0> {\n        return this.run<indexList_$0>($$dpth,\n            () => {\n                let $scope$first: Nullable<Nullable<exp>>;\n                let $scope$rest: Nullable<indexList_$0_$0[]>;\n                let $$res: Nullable<indexList_$0> = null;\n                if (true\n                    && (($scope$first = this.matchexp($$dpth + 1, $$cr)) || true)\n                    && ($scope$rest = this.loop<indexList_$0_$0>(() => this.matchindexList_$0_$0($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.indexList_$0, first: $scope$first, rest: $scope$rest};\n                }\n                return $$res;\n            });\n    }\n    public matchindexList_$0_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<indexList_$0_$0> {\n        return this.run<indexList_$0_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<operandSep>;\n                let $scope$item: Nullable<Nullable<exp>>;\n                let $$res: Nullable<indexList_$0_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchoperandSep($$dpth + 1, $$cr)) !== null\n                    && (($scope$item = this.matchexp($$dpth + 1, $$cr)) || true)\n                ) {\n                    $$res = {kind: ASTKinds.indexList_$0_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchfield($$dpth: number, $$cr?: ErrorTracker): Nullable<field> {\n        return this.run<field>($$dpth,\n            () => {\n                let $scope$name: Nullable<name>;\n                let $scope$sep: Nullable<nameValueSep>;\n                let $scope$value: Nullable<listExp>;\n                let $$res: Nullable<field> = null;\n                if (true\n                    && ($scope$name = this.matchname($$dpth + 1, $$cr)) !== null\n                    && ($scope$sep = this.matchnameValueSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$value = this.matchlistExp($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.field, name: $scope$name, sep: $scope$sep, value: $scope$value};\n                }\n                return $$res;\n            });\n    }\n    public matchfieldList($$dpth: number, $$cr?: ErrorTracker): Nullable<fieldList> {\n        return this.run<fieldList>($$dpth,\n            () => {\n                let $scope$content: Nullable<Nullable<fieldList_$0>>;\n                let $$res: Nullable<fieldList> = null;\n                if (true\n                    && (($scope$content = this.matchfieldList_$0($$dpth + 1, $$cr)) || true)\n                ) {\n                    $$res = {kind: ASTKinds.fieldList, content: $scope$content};\n                }\n                return $$res;\n            });\n    }\n    public matchfieldList_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<fieldList_$0> {\n        return this.run<fieldList_$0>($$dpth,\n            () => {\n                let $scope$first: Nullable<field>;\n                let $scope$rest: Nullable<fieldList_$0_$0[]>;\n                let $$res: Nullable<fieldList_$0> = null;\n                if (true\n                    && ($scope$first = this.matchfield($$dpth + 1, $$cr)) !== null\n                    && ($scope$rest = this.loop<fieldList_$0_$0>(() => this.matchfieldList_$0_$0($$dpth + 1, $$cr), true)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.fieldList_$0, first: $scope$first, rest: $scope$rest};\n                }\n                return $$res;\n            });\n    }\n    public matchfieldList_$0_$0($$dpth: number, $$cr?: ErrorTracker): Nullable<fieldList_$0_$0> {\n        return this.run<fieldList_$0_$0>($$dpth,\n            () => {\n                let $scope$sep: Nullable<operandSep>;\n                let $scope$item: Nullable<field>;\n                let $$res: Nullable<fieldList_$0_$0> = null;\n                if (true\n                    && ($scope$sep = this.matchoperandSep($$dpth + 1, $$cr)) !== null\n                    && ($scope$item = this.matchfield($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.fieldList_$0_$0, sep: $scope$sep, item: $scope$item};\n                }\n                return $$res;\n            });\n    }\n    public matchnameValueSep($$dpth: number, $$cr?: ErrorTracker): Nullable<nameValueSep> {\n        return this.run<nameValueSep>($$dpth,\n            () => {\n                let $scope$before: Nullable<sep>;\n                let $scope$after: Nullable<sep>;\n                let $$res: Nullable<nameValueSep> = null;\n                if (true\n                    && ($scope$before = this.matchsep($$dpth + 1, $$cr)) !== null\n                    && this.regexAccept(String.raw`(?:=)`, $$dpth + 1, $$cr) !== null\n                    && ($scope$after = this.matchsep($$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.nameValueSep, before: $scope$before, after: $scope$after};\n                }\n                return $$res;\n            });\n    }\n    public matchname($$dpth: number, $$cr?: ErrorTracker): Nullable<name> {\n        return this.run<name>($$dpth,\n            () => {\n                let $scope$from: Nullable<PosInfo>;\n                let $scope$value: Nullable<string>;\n                let $scope$to: Nullable<PosInfo>;\n                let $$res: Nullable<name> = null;\n                if (true\n                    && ($scope$from = this.mark()) !== null\n                    && ($scope$value = this.regexAccept(String.raw`(?:[a-zA-Z][a-zA-Z0-9._]*)`, $$dpth + 1, $$cr)) !== null\n                    && ($scope$to = this.mark()) !== null\n                ) {\n                    $$res = {kind: ASTKinds.name, from: $scope$from, value: $scope$value, to: $scope$to};\n                }\n                return $$res;\n            });\n    }\n    public matchscalar($$dpth: number, $$cr?: ErrorTracker): Nullable<scalar> {\n        return this.run<scalar>($$dpth,\n            () => {\n                let $scope$value: Nullable<string>;\n                let $$res: Nullable<scalar> = null;\n                if (true\n                    && ($scope$value = this.regexAccept(String.raw`(?:-?([\\d]+([.][\\d]+)?|([\\d]+)?[.][\\d]+)([eE]-?[\\d]+)?)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.scalar, value: $scope$value};\n                }\n                return $$res;\n            });\n    }\n    public matchNA($$dpth: number, $$cr?: ErrorTracker): Nullable<NA> {\n        return this.run<NA>($$dpth,\n            () => {\n                let $scope$v: Nullable<string>;\n                let $$res: Nullable<NA> = null;\n                if (true\n                    && ($scope$v = this.regexAccept(String.raw`(?:NA)`, $$dpth + 1, $$cr)) !== null\n                ) {\n                    $$res = {kind: ASTKinds.NA, v: $scope$v};\n                }\n                return $$res;\n            });\n    }\n    public test(): boolean {\n        const mrk = this.mark();\n        const res = this.matchprogram(0);\n        const ans = res !== null;\n        this.reset(mrk);\n        return ans;\n    }\n    public parse(): ParseResult {\n        const mrk = this.mark();\n        const res = this.matchprogram(0);\n        if (res)\n            return {ast: res, errs: []};\n        this.reset(mrk);\n        const rec = new ErrorTracker();\n        this.clearMemos();\n        this.matchprogram(0, rec);\n        const err = rec.getErr()\n        return {ast: res, errs: err !== null ? [err] : []}\n    }\n    public mark(): PosInfo {\n        return this.pos;\n    }\n    private loop<T>(func: $$RuleType<T>, star: boolean = false): Nullable<T[]> {\n        const mrk = this.mark();\n        const res: T[] = [];\n        for (;;) {\n            const t = func();\n            if (t === null) {\n                break;\n            }\n            res.push(t);\n        }\n        if (star || res.length > 0) {\n            return res;\n        }\n        this.reset(mrk);\n        return null;\n    }\n    private run<T>($$dpth: number, fn: $$RuleType<T>): Nullable<T> {\n        const mrk = this.mark();\n        const res = fn()\n        if (res !== null)\n            return res;\n        this.reset(mrk);\n        return null;\n    }\n    private choice<T>(fns: Array<$$RuleType<T>>): Nullable<T> {\n        for (const f of fns) {\n            const res = f();\n            if (res !== null) {\n                return res;\n            }\n        }\n        return null;\n    }\n    private regexAccept(match: string, dpth: number, cr?: ErrorTracker): Nullable<string> {\n        return this.run<string>(dpth,\n            () => {\n                const reg = new RegExp(match, \"y\");\n                const mrk = this.mark();\n                reg.lastIndex = mrk.overallPos;\n                const res = this.tryConsume(reg);\n                if(cr) {\n                    cr.record(mrk, res, {\n                        kind: \"RegexMatch\",\n                        // We substring from 3 to len - 1 to strip off the\n                        // non-capture group syntax added as a WebKit workaround\n                        literal: match.substring(3, match.length - 1),\n                        negated: this.negating,\n                    });\n                }\n                return res;\n            });\n    }\n    private tryConsume(reg: RegExp): Nullable<string> {\n        const res = reg.exec(this.input);\n        if (res) {\n            let lineJmp = 0;\n            let lind = -1;\n            for (let i = 0; i < res[0].length; ++i) {\n                if (res[0][i] === \"\\n\") {\n                    ++lineJmp;\n                    lind = i;\n                }\n            }\n            this.pos = {\n                overallPos: reg.lastIndex,\n                line: this.pos.line + lineJmp,\n                offset: lind === -1 ? this.pos.offset + res[0].length : (res[0].length - lind - 1)\n            };\n            return res[0];\n        }\n        return null;\n    }\n    private noConsume<T>(fn: $$RuleType<T>): Nullable<T> {\n        const mrk = this.mark();\n        const res = fn();\n        this.reset(mrk);\n        return res;\n    }\n    private negate<T>(fn: $$RuleType<T>): Nullable<boolean> {\n        const mrk = this.mark();\n        const oneg = this.negating;\n        this.negating = !oneg;\n        const res = fn();\n        this.negating = oneg;\n        this.reset(mrk);\n        return res === null ? true : null;\n    }\n    private memoise<K>(rule: $$RuleType<K>, memo: Map<number, [Nullable<K>, PosInfo]>): Nullable<K> {\n        const $scope$pos = this.mark();\n        const $scope$memoRes = memo.get($scope$pos.overallPos);\n        if(this.memoSafe && $scope$memoRes !== undefined) {\n        this.reset($scope$memoRes[1]);\n        return $scope$memoRes[0];\n        }\n        const $scope$result = rule();\n        if(this.memoSafe)\n        memo.set($scope$pos.overallPos, [$scope$result, this.mark()]);\n        return $scope$result;\n    }\n}\nexport function parse(s: string): ParseResult {\n    const p = new Parser(s);\n    return p.parse();\n}\nexport interface ParseResult {\n    ast: Nullable<program>;\n    errs: SyntaxErr[];\n}\nexport interface PosInfo {\n    readonly overallPos: number;\n    readonly line: number;\n    readonly offset: number;\n}\nexport interface RegexMatch {\n    readonly kind: \"RegexMatch\";\n    readonly negated: boolean;\n    readonly literal: string;\n}\nexport type EOFMatch = { kind: \"EOF\"; negated: boolean };\nexport type MatchAttempt = RegexMatch | EOFMatch;\nexport class SyntaxErr {\n    public pos: PosInfo;\n    public expmatches: MatchAttempt[];\n    constructor(pos: PosInfo, expmatches: MatchAttempt[]) {\n        this.pos = pos;\n        this.expmatches = [...expmatches];\n    }\n    public toString(): string {\n        return `Syntax Error at line ${this.pos.line}:${this.pos.offset}. Expected one of ${this.expmatches.map(x => x.kind === \"EOF\" ? \" EOF\" : ` ${x.negated ? 'not ': ''}'${x.literal}'`)}`;\n    }\n}\nclass ErrorTracker {\n    private mxpos: PosInfo = {overallPos: -1, line: -1, offset: -1};\n    private regexset: Set<string> = new Set();\n    private pmatches: MatchAttempt[] = [];\n    public record(pos: PosInfo, result: any, att: MatchAttempt) {\n        if ((result === null) === att.negated)\n            return;\n        if (pos.overallPos > this.mxpos.overallPos) {\n            this.mxpos = pos;\n            this.pmatches = [];\n            this.regexset.clear()\n        }\n        if (this.mxpos.overallPos === pos.overallPos) {\n            if(att.kind === \"RegexMatch\") {\n                if(!this.regexset.has(att.literal))\n                    this.pmatches.push(att);\n                this.regexset.add(att.literal);\n            } else {\n                this.pmatches.push(att);\n            }\n        }\n    }\n    public getErr(): SyntaxErr | null {\n        if (this.mxpos.overallPos !== -1)\n            return new SyntaxErr(this.mxpos, this.pmatches);\n        return null;\n    }\n}", "export type Doc = Array<string>\n\nexport function makePrinter(indent = '  ') {\n\n\tfunction text(content: string): Doc {\n\t\treturn [content];\n\t}\n\n\tfunction nest(content: Doc): Doc {\n\t\treturn content.map((line) => indent + line);\n\t}\n\n\n\tfunction repeat(s: string, i: number): string {\n\t\tif (i === 0) {\n\t\t\treturn \"\";\n\t\t} else {\n\t\t\treturn s + repeat(s, i - 1);\n\t\t}\n\t}\n\n\tfunction fconcat(content: Array<Doc>): Doc {\n\t\treturn content.\n\t\t\t\treduce((IH, cur) => {\n\t\t\t\t\tconst lastLine = IH[IH.length - 1];\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...IH.slice(0, -1),\n\t\t\t\t\t\tlastLine + cur[0],\n\t\t\t\t\t\t...cur.slice(1)\n\t\t\t\t\t]\n\t\t\t\t}, [\"\"])\n\t}\n\n\tfunction inlineBlock(content: Array<Doc>): Doc {\n\t\treturn content.\n\t\t\t\treduce((IH, cur) => {\n\t\t\t\t\tconst lastLine = IH[IH.length - 1];\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...IH.slice(0, -1),\n\t\t\t\t\t\tlastLine + cur[0],\n\t\t\t\t\t\t...cur.slice(1).map((line) => {\n\t\t\t\t\t\t\treturn repeat(' ', lastLine.length) + line\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}, [\"\"])\n\t}\n\n\tfunction vconcat(content: Array<Doc>): Doc {\n\t\treturn content.flatMap((x) => x);\n\t}\n\n\tfunction toString(doc: Doc): string {\n\t\treturn doc.join('\\n');\n\t}\n\n\tfunction equations(eqs: Array<[Doc, string, Doc]>) {\n\t\tconst lhsWidth = Math.max(...eqs.flatMap(([lhs, r, rhs]) => {\n\t\t\treturn lhs.map((line) => line.length)\n\t\t}))\n\t\tconst rWidth = Math.max(...eqs.map(([lhs, r, rhs]) => {\n\t\t\treturn r.length\n\t\t}))\n\t\treturn vconcat([\n\t\t\t// text(lhsWidth.toString()),\n\t\t\t// text(rWidth.toString()),\n\t\t\t...eqs.map(([lhs, r, rhs]) => {\n\t\t\t\tlhs[lhs.length - 1] += repeat(' ', lhsWidth - lhs[lhs.length - 1].length)\n\t\t\t\tr = repeat(' ', rWidth - r.length) + r\n\t\t\t\treturn fconcat([\n\t\t\t\t\tlhs, text(r), rhs\n\t\t\t\t])\n\t\t\t})\n\t\t])\n\t}\n\n\treturn {\n\t\ttext, nest, vconcat, fconcat, inlineBlock, toString, equations\n\t}\n}\n\n", "export const Seq = {\n\tcartesianProduct: <X, Y>(xs: Array<X>, ys: Array<Y>) => {\n\t\tconst zs: Array<{left: X, right: Y}> = [];\n\t\tfor (const left of xs) {\n\t\t\tfor (const right of ys) {\n\t\t\t\tzs.push({ left, right })\n\t\t\t}\n\t\t}\n\t\treturn zs\n\t},\n\tfindFirst: <X>(xs: Array<X>, p: (x: X) => boolean) => {\n\t\tfor (const x of xs) {\n\t\t\tif (p(x)) {\n\t\t\t\treturn x;\n\t\t\t}\n\t\t}\n\t\tthrow \"Not found\"\n\t},\n\tfilter: <X>(xs: Array<X>, p: (x: X) => boolean) => {\n\t\treturn xs.filter(p)\n\t},\n\tdropWhile: <X>(xs: Array<X>, p: (x: X) => boolean) => {\n\t\tlet i: number;\n\t\tfor (i = 0; i < xs.length && p(xs[i]); i++) {\n\t\t}\n\t\treturn xs.slice(i);\n\t},\n\tintersperse: <A>(a: A, as: Array<A>): Array<A> => {\n\t\tif (as.length === 0) {\n\t\t\treturn as;\n\t\t} else {\n\t\t\tconst bs: Array<A> = [];\n\t\t\tbs.push(as[0]);\n\t\t\tfor (let i = 1; i < as.length; i++) {\n\t\t\t\tbs.push(a);\n\t\t\t\tbs.push(as[i]);\n\t\t\t}\n\t\t\treturn bs;\n\t\t}\n\t}\n\n}", "import { ParameterStructures, Position } from 'vscode-languageserver';\nimport * as bugsPeg from './bugsPeg';\nimport { Doc, makePrinter } from './prettyPrinter';\nimport { Seq } from './Seq';\n\nconst PP = makePrinter('    ')\n\ninterface ParseError {\n\tposition: Position;\n\tmessage: string;\n}\n\nfunction positionOfPosInfo(pos: bugsPeg.PosInfo): Position {\n\treturn {\n\t\t\"line\": pos.line - 1,\n\t\t\"character\": pos.offset\n\t}\n}\n\ntype Error<V, E> = { kind: \"error\", content: E } | { kind: \"value\", content: V }\n\nfunction succeed<V, E>(v: V): Error<V, E> {\n\treturn { kind: \"value\", content: v }\n}\n\nfunction fail<V, E>(e: E): Error<V, E> {\n\treturn { kind: \"error\", content: e }\n}\n\nfunction messageOfPegError(e: bugsPeg.SyntaxErr): string {\n\tlet expectations = e.expmatches.\n\t\tmap((x) => {\n\t\t\tif (x.kind === 'RegexMatch') {\n\t\t\t\treturn x.literal;\n\t\t\t} else {\n\t\t\t\treturn 'EOF'\n\t\t\t}\n\t\t}).\n\t\tflatMap((entry) => {\n\t\t\tif (entry === '[\\\\n]') {\n\t\t\t\treturn []\n\t\t\t} else if (entry === '[#]') {\n\t\t\t\treturn []\n\t\t\t} else if (entry === ';') {\n\t\t\t\treturn [\"';'\"]\n\t\t\t} else if (entry === '\\\\(') {\n\t\t\t\treturn [\"'('\"]\n\t\t\t} else if (entry === '\\\\)') {\n\t\t\t\treturn [\"')'\"]\n\t\t\t} else if (entry === '\\\\[') {\n\t\t\t\treturn [\"'['\"]\n\t\t\t} else if (entry === '\\\\]') {\n\t\t\t\treturn [\"']'\"]\n\t\t\t} else if (entry === '{') {\n\t\t\t\treturn [\"'{'\"]\n\t\t\t} else if (entry === '}') {\n\t\t\t\treturn [\"'}'\"]\n\t\t\t} else if (entry === '\\\\+') {\n\t\t\t\treturn [\"'+'\"]\n\t\t\t} else if (entry === '-') {\n\t\t\t\treturn [\"'-'\"]\n\t\t\t} else if (entry === '\\\\*') {\n\t\t\t\treturn [\"'*'\"]\n\t\t\t} else if (entry === '/') {\n\t\t\t\treturn [\"'/'\"]\n\t\t\t} else if (entry === ':') {\n\t\t\t\treturn [\"':'\"]\n\t\t\t} else if (entry === ',') {\n\t\t\t\treturn [\"','\"]\n\t\t\t} else if (entry === '.') {\n\t\t\t\treturn [\"'.'\"]\n\t\t\t} else if (entry === '~') {\n\t\t\t\treturn [\"'~'\"]\n\t\t\t} else if (entry === '=') {\n\t\t\t\treturn [\"'='\"]\n\t\t\t} else if (entry === '<-') {\n\t\t\t\treturn [\"'<-'\"]\n\t\t\t} else if (entry === 'C') {\n\t\t\t\treturn [\"a 'C(,)'\"]\n\t\t\t} else if (entry === 'T') {\n\t\t\t\treturn [\"a 'T(,)'\"]\n\t\t\t} else if (entry === 'I') {\n\t\t\t\treturn [\"a 'I(,)'\"]\n\t\t\t} else if (entry === 'in') {\n\t\t\t\treturn [\"the keyword 'in'\"]\n\t\t\t} else if (entry === 'END') {\n\t\t\t\treturn [\"the keyword 'END'\"]\n\t\t\t} else if (entry === 'Dim') {\n\t\t\t\treturn [\"the word 'Dim'\"]\n\t\t\t} else if (entry === 'Data') {\n\t\t\t\treturn [\"the word 'Data'\"]\n\t\t\t} else if (entry === 'for') {\n\t\t\t\treturn [\"a \\\"for-loop\\\"\"]\n\t\t\t} else if (entry === 'data') {\n\t\t\t\treturn [\"a data block\"]\n\t\t\t} else if (entry === 'model') {\n\t\t\t\treturn [\"a model block\"]\n\t\t\t} else if (entry === '-?([\\\\d]+([.][\\\\d]+)?|([\\\\d]+)?[.][\\\\d]+)([eE]-?[\\\\d]+)?') {\n\t\t\t\treturn [\"a number\"]\n\t\t\t} else if (entry === '[a-zA-Z][a-zA-Z0-9._]*') {\n\t\t\t\treturn [\"a variable\"]\n\t\t\t} else if (entry === 'list[(]') {\n\t\t\t\treturn [\"a list\"]\n\t\t\t} else if (entry === 'structure[(]') {\n\t\t\t\treturn [\"a structure\"]\n\t\t\t} else {\n\t\t\t\treturn [entry]\n\t\t\t}\n\t\t})\n\texpectations.sort((a, b) => a.length - b.length)\n\treturn `Expecting ${[...expectations].slice(0, -1).join(', ')}, or ${expectations[expectations.length - 1]}`\n}\n\nexport function parse(sourceCode: string): Error<Program, ParseError[]> {\n\tlet parseResult = bugsPeg.parse(sourceCode);\n\tif (parseResult.ast !== null) {\n\t\treturn succeed(transformProgram(parseResult.ast));\n\t} else {\n\t\tconst errors: ParseError[] = parseResult.errs.map((e) => {\n\t\t\treturn {\n\t\t\t\tposition: positionOfPosInfo(e.pos),\n\t\t\t\tmessage: messageOfPegError(e)\n\t\t\t}\n\t\t});\n\t\treturn fail(errors);\n\t}\n}\n\nfunction transformProgram(program: bugsPeg.program): Program {\n\tfunction tName(name: bugsPeg.name): Name {\n\t\treturn {\n\t\t\tliteral: name.value,\n\t\t\tstart: positionOfPosInfo(name.from),\n\t\t\tend: positionOfPosInfo(name.to)\n\t\t}\n\t}\n\tfunction tExp0(exp: bugsPeg.exp0): Expression {\n\t\tif (exp.kind === 'exp0_3') {\n\t\t\treturn { kind: '()', content: tExp(exp.exp) }\n\t\t} else if (exp.kind === 'name') {\n\t\t\treturn { kind: 'variable', name: tName(exp) }\n\t\t} else if (exp.kind === 'scalar') {\n\t\t\treturn tScalar(exp)\n\t\t} else {\n\t\t\tthrow \"Never\";\n\t\t}\n\t}\n\tconst tExpNullable = (e: bugsPeg.exp | null) => {\n\t\tif (e === null) {\n\t\t\treturn null\n\t\t} else {\n\t\t\treturn tExp(e);\n\t\t}\n\t}\n\tfunction tExp(exp: bugsPeg.exp): Expression {\n\t\tif (exp.kind === 'exp2_1') {\n\t\t\treturn { kind: 'unop', operator: '-', exp: tExp(exp.exp) }\n\t\t} else if (exp.kind === 'exp3_1') {\n\t\t\tconst op = (exp.op.kind === 'addSub_1') ? '+' : '-';\n\t\t\treturn { kind: 'binop', operator: op, lft: tExp(exp.left), rht: tExp(exp.right) }\n\t\t} else if (exp.kind === 'exp4_1') {\n\t\t\tconst op = (exp.op.kind === 'mulDiv_1') ? '*' : '/';\n\t\t\treturn { kind: 'binop', operator: op, lft: tExp(exp.left), rht: tExp(exp.right) }\n\t\t} else if (exp.kind === 'exp5_1') {\n\t\t\treturn { kind: 'binop', operator: ':', lft: tExp(exp.left), rht: tExp(exp.right) }\n\t\t} else {\n\t\t\tlet e: Expression = tExp0(exp.base);\n\t\t\tfor (const app of exp.applications) {\n\t\t\t\tif (app.kind === 'functionApplication') {\n\t\t\t\t\tlet operands: Array<Expression> = [];\n\t\t\t\t\tif (app.operands.content !== null) {\n\t\t\t\t\t\toperands.push(tExp(app.operands.content.first))\n\t\t\t\t\t\tapp.operands.content.rest.forEach((x) => {\n\t\t\t\t\t\t\toperands.push(tExp(x.item));\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\te = { kind: 'application', operator: e, operands };\n\t\t\t\t} else {\n\t\t\t\t\tlet operands: Array<Expression | null> = [];\n\t\t\t\t\tif (app.operands.content) {\n\t\t\t\t\t\toperands.push(tExpNullable(app.operands.content.first))\n\t\t\t\t\t\tapp.operands.content.rest.forEach((x) => {\n\t\t\t\t\t\t\toperands.push(tExpNullable(x.item));\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\te = { kind: 'subscription', operator: e, operands }\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn e;\n\t\t}\n\t}\n\tfunction tListExp(exp: bugsPeg.listExp): ListExp {\n\t\tif (exp.kind === 'scalar') {\n\t\t\treturn tScalar(exp)\n\t\t} else if (exp.kind === 'NA') {\n\t\t\treturn { 'kind': 'NA' }\n\t\t} else if (exp.kind === 'structure') {\n\t\t\treturn { 'kind': 'structure', 'data': tListExp(exp.data), 'dim': tListExp(exp.dim) }\n\t\t} else {\n\t\t\treturn { 'kind': 'c', 'content': [tListExp(exp.operands.content.first), ...exp.operands.content.rest.map(({ sep, item }) => tListExp(item))] }\n\t\t}\n\t}\n\tfunction tList(list: bugsPeg.list): List {\n\t\tconst operands: [Name, ListExp][] = [];\n\t\tfunction tField(field: bugsPeg.field): [Name, ListExp] {\n\t\t\treturn [tName(field.name), tListExp(field.value)]\n\t\t}\n\t\tif (list.operands.content !== null) {\n\t\t\toperands.push(tField(list.operands.content.first))\n\t\t\toperands.push(...list.operands.content.rest.map(({ sep, item }) => {\n\t\t\t\treturn tField(item);\n\t\t\t}))\n\t\t}\n\t\treturn { kind: \"list\", \"content\": operands }\n\t}\n\tfunction tRelation(relation: bugsPeg.relation): Relation {\n\t\tif (relation.kind === 'stochasticRelation') {\n\t\t\tlet cti: StochasticRelation['cti'];\n\t\t\tif (relation.cti === null) {\n\t\t\t\tcti = null;\n\t\t\t} else {\n\t\t\t\tconst header = (\n\t\t\t\t\trelation.cti.header.kind === 'ctiHeader_1'\n\t\t\t\t\t\t? 'C'\n\t\t\t\t\t\t: relation.cti.header.kind === 'ctiHeader_2'\n\t\t\t\t\t\t\t? 'T'\n\t\t\t\t\t\t\t: 'I')\n\t\t\t\tcti = {\n\t\t\t\t\tkind: header,\n\t\t\t\t\tlower: tExpNullable(relation.cti.lower),\n\t\t\t\t\tupper: tExpNullable(relation.cti.upper)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tkind: '~', lhs: tExp(relation.lhs),\n\t\t\t\trhs: tExp(relation.rhs), cti\n\t\t\t}\n\t\t} else if (relation.kind === 'deterministicRelation') {\n\t\t\treturn {\n\t\t\t\tkind: '=',\n\t\t\t\tlhs: tExp(relation.lhs),\n\t\t\t\trhs: tExp(relation.rhs),\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tkind: 'for',\n\t\t\t\t'name': tName(relation.name),\n\t\t\t\t'domain': tExp(relation.domain),\n\t\t\t\t'body': tBlock(relation.body)\n\t\t\t}\n\t\t}\n\t}\n\tfunction tSepItem(sep: bugsPeg.sepItem): Array<SeperatorItem> {\n\t\tif (sep.kind === 'newline') {\n\t\t\treturn [tNewline(sep)]\n\t\t} else {\n\t\t\treturn [tComment(sep)];\n\t\t}\n\t}\n\tfunction tRelationSep(sep: bugsPeg.relationSep): Array<SeperatorItem> {\n\t\treturn sep.body.flatMap(({ sep, item }) => {\n\t\t\tif (item.kind === 'relationSepItem_2') {\n\t\t\t\treturn []\n\t\t\t} else {\n\t\t\t\treturn tSepItem(item)\n\t\t\t}\n\t\t})\n\t}\n\tfunction tBlock(block: bugsPeg.block): Block {\n\t\tconst relations: Relation[] = [];\n\t\tconst seperators: SeperatorItem[][] = [];\n\t\tseperators.push(tRelationSep(block.before))\n\t\trelations.push(tRelation(block.body.head));\n\t\tseperators.push(...block.body.tail.map(({ sep, item }) => {\n\t\t\treturn tRelationSep(sep)\n\t\t}));\n\t\trelations.push(...block.body.tail.map(({ sep, item }) => {\n\t\t\treturn tRelation(item)\n\t\t}));\n\t\tseperators.push(tRelationSep(block.after))\n\t\treturn { relations, seperators };\n\t}\n\tfunction tScalar(scalar: bugsPeg.scalar): Scalar {\n\t\treturn { kind: 'scalar', literal: scalar.value }\n\t}\n\tfunction tSection(section: bugsPeg.section): Section {\n\t\tconst kind = (section.header.kind === 'sectionHeader_1'\n\t\t\t? 'model'\n\t\t\t: 'data');\n\t\treturn {\n\t\t\t\"kind\": kind,\n\t\t\t'body': tBlock(section.body)\n\t\t}\n\t}\n\tfunction tNewline(x: bugsPeg.newline): SeperatorItem {\n\t\treturn { kind: 'newline' };\n\t}\n\tfunction tComment(x: bugsPeg.comment): SeperatorItem {\n\t\treturn { kind: 'comment', content: x.content }\n\t}\n\tfunction tProgramBody(program: bugsPeg.programBody): List | TableProgram | ModelProgram {\n\t\tif (program.kind === 'list') {\n\t\t\treturn tList(program)\n\t\t} else if (program.kind === 'rectangular') {\n\t\t\tconst header = program.header.content.map(({ sep, item }) => {\n\t\t\t\treturn tName(item);\n\t\t\t})\n\t\t\tconst body = program.body.map(({ sep, item }) => {\n\t\t\t\treturn item.content.map(({ sep, item }) => {\n\t\t\t\t\treturn tScalar(item)\n\t\t\t\t})\n\t\t\t})\n\t\t\treturn {\n\t\t\t\tkind: 'table',\n\t\t\t\theader: header,\n\t\t\t\tbody: body\n\t\t\t}\n\t\t} else {\n\t\t\tconst sections: Array<Section> = [];\n\t\t\tsections.push(tSection(program.head))\n\t\t\tsections.push(...program.tail.map(({ sep, item }) => {\n\t\t\t\treturn tSection(item)\n\t\t\t}))\n\t\t\treturn { kind: 'model', content: sections }\n\t\t}\n\t}\n\tconst before = program.before.body.flatMap(({ sep, item }) => tSepItem(item))\n\tconst after = program.after.body.flatMap(({ sep, item }) => tSepItem(item))\n\treturn { before, after, body: tProgramBody(program.body) }\n}\n\nexport interface Program {\n\tbefore: Array<SeperatorItem>;\n\tbody: ProgramBody;\n\tafter: Array<SeperatorItem>;\n}\n\nexport type ProgramBody = List | TableProgram | ModelProgram;\n\nexport interface TableProgram {\n\tkind: 'table';\n\theader: Array<Name>\n\tbody: Array<Array<Scalar>>\n}\nexport interface ModelProgram {\n\tkind: \"model\";\n\tcontent: Array<Section>;\n}\n\nexport const isNewline = (w: SeperatorItem) => {\n\treturn w.kind === 'newline';\n}\n\nexport interface Block {\n\trelations: Relation[];\n\tseperators: SeperatorItem[][];\n}\n\nexport type SeperatorItem = Newline | Comment\nexport interface Newline {\n\tkind: 'newline'\n}\nexport interface Comment {\n\tkind: 'comment';\n\tcontent: string;\n}\n\n\nexport interface Section {\n\tkind: \"model\" | 'data';\n\tbody: Block;\n}\n\nexport type Relation = StochasticRelation | DeterministicRelation | IndexedRelation\nexport interface StochasticRelation {\n\tkind: \"~\"\n\tlhs: Expression;\n\trhs: Expression;\n\tcti: null | {\n\t\tkind: 'C' | 'T' | 'I';\n\t\tlower: Expression | null;\n\t\tupper: Expression | null;\n\t}\n}\nexport interface DeterministicRelation {\n\tkind: \"=\";\n\tlhs: Expression;\n\trhs: Expression;\n}\nexport interface IndexedRelation {\n\tkind: \"for\";\n\tname: Name;\n\tdomain: Expression;\n\tbody: Block;\n}\n\nexport type Expression = Variable | Scalar | Application | Subscription | ParenthesizedExpression | BinOp | UnOp\n\nexport interface Variable {\n\tkind: \"variable\";\n\tname: Name;\n}\n\nexport interface Name {\n\tliteral: string;\n\tstart: Position;\n\tend: Position;\n}\n\nexport interface Scalar {\n\tkind: 'scalar';\n\tliteral: string;\n}\n\nexport type Op1 = '-'\nexport type Op2 = '+' | '-' | '*' | '/' | ':'\n\nexport interface UnOp {\n\tkind: 'unop';\n\toperator: Op1;\n\texp: Expression;\n}\n\nexport interface BinOp {\n\tkind: 'binop';\n\toperator: Op2;\n\tlft: Expression;\n\trht: Expression;\n}\n\nexport interface Application {\n\tkind: \"application\";\n\toperator: Expression;\n\toperands: Array<Expression>;\n}\n\nexport interface Subscription {\n\tkind: \"subscription\";\n\toperator: Expression;\n\toperands: Array<Expression | null>;\n}\n\nexport interface Structure {\n\tkind: \"structure\";\n\tdata: ListExp;\n\tdim: ListExp;\n}\n\nexport interface List {\n\tkind: \"list\";\n\tcontent: Array<[Name, ListExp]>;\n}\n\nexport type ListExp = Scalar | NA | Structure | ListExpC;\n\nexport interface NA {\n\tkind: 'NA'\n}\n\nexport interface ListExpC {\n\tkind: 'c',\n\tcontent: Array<ListExp>\n}\n\nexport interface ParenthesizedExpression {\n\tkind: \"()\";\n\tcontent: Expression;\n}\n\nexport function prettyPrint(p: Program): string {\n\tfunction pName(name: Name): Doc {\n\t\treturn PP.text(name.literal);\n\t}\n\tconst pExpNullable = (e: Expression | null) => {\n\t\tif (e === null) {\n\t\t\treturn PP.text(\"\")\n\t\t} else {\n\t\t\treturn pExp(e);\n\t\t}\n\t}\n\tfunction pScalar(scalar: Scalar): Doc {\n\t\treturn PP.text(scalar.literal)\n\t}\n\tfunction pExp(exp: Expression): Doc {\n\t\tif (exp.kind === 'variable') {\n\t\t\treturn pName(exp.name);\n\t\t} else if (exp.kind === 'scalar') {\n\t\t\treturn pScalar(exp)\n\t\t} else if (exp.kind === 'application') {\n\t\t\treturn PP.fconcat([\n\t\t\t\tpExp(exp.operator),\n\t\t\t\tPP.text(\"(\"),\n\t\t\t\tPP.fconcat(Seq.intersperse(PP.text(\", \"), exp.operands.map(pExp))),\n\t\t\t\tPP.text(\")\"),\n\t\t\t])\n\t\t} else if (exp.kind === 'subscription') {\n\t\t\treturn PP.fconcat([\n\t\t\t\tpExp(exp.operator),\n\t\t\t\tPP.text(\"[\"),\n\t\t\t\tPP.fconcat(Seq.intersperse(PP.text(\", \"), exp.operands.map(pExpNullable))),\n\t\t\t\tPP.text(\"]\"),\n\t\t\t])\n\t\t} else if (exp.kind === 'binop') {\n\t\t\treturn PP.fconcat([\n\t\t\t\tpExp(exp.lft),\n\t\t\t\tPP.text(' '),\n\t\t\t\tPP.text(exp.operator),\n\t\t\t\tPP.text(' '),\n\t\t\t\tpExp(exp.rht)\n\t\t\t])\n\t\t} else if (exp.kind === 'unop') {\n\t\t\treturn PP.fconcat([\n\t\t\t\tPP.text(exp.operator),\n\t\t\t\tPP.text(' '),\n\t\t\t\tpExp(exp.exp)\n\t\t\t])\n\t\t} else {\n\t\t\treturn PP.fconcat([\n\t\t\t\tPP.text(\"(\"),\n\t\t\t\tpExp(exp.content),\n\t\t\t\tPP.text(\")\"),\n\t\t\t])\n\t\t}\n\t}\n\tfunction pListExp(exp: ListExp): Doc {\n\t\tif (exp.kind === 'scalar') {\n\t\t\treturn pScalar(exp)\n\t\t} else if (exp.kind === 'NA') {\n\t\t\treturn PP.text('NA')\n\t\t} else if (exp.kind === 'structure') {\n\t\t\treturn pStructure(exp)\n\t\t} else {\n\t\t\treturn PP.fconcat([\n\t\t\t\tPP.text(\"c(\"),\n\t\t\t\t...Seq.intersperse(\n\t\t\t\t\tPP.text(', '),\n\t\t\t\t\texp.content.map(pListExp)),\n\t\t\t\tPP.text(')')\n\t\t\t])\n\t\t}\n\t}\n\tfunction pStructure(exp: Structure): Doc {\n\t\treturn PP.vconcat([\n\t\t\tPP.text(\"structure(\"),\n\t\t\tPP.nest(PP.vconcat([\n\t\t\t\tPP.fconcat([\n\t\t\t\t\tPP.fconcat([PP.text(\".Data=\"), pListExp(exp.data)]),\n\t\t\t\t\tPP.text(',')\n\t\t\t\t]),\n\t\t\t\tPP.fconcat([PP.text(\".Dim=\"), pListExp(exp.dim)])\n\t\t\t])),\n\t\t\tPP.text(\")\")\n\t\t])\n\t}\n\tfunction pCTI(cti: StochasticRelation['cti']): Doc {\n\t\tif (cti === null) {\n\t\t\treturn PP.text(\"\")\n\t\t} else {\n\t\t\treturn PP.fconcat([\n\t\t\t\tPP.text(cti.kind),\n\t\t\t\tPP.text('('),\n\t\t\t\tpExpNullable(cti.lower),\n\t\t\t\tPP.text(', '),\n\t\t\t\tpExpNullable(cti.upper),\n\t\t\t\tPP.text(')'),\n\t\t\t])\n\t\t}\n\t}\n\tfunction pComment(cmt: Comment): Doc {\n\t\treturn PP.text(\"#\" + cmt.content)\n\t}\n\tfunction pSeperator(item: SeperatorItem): Doc {\n\t\tif (item.kind === 'newline') {\n\t\t\treturn PP.text(\"\")\n\t\t} else {\n\t\t\treturn pComment(item)\n\t\t}\n\t}\n\tfunction pSeperators(seps: Array<SeperatorItem>): Array<Doc> {\n\t\treturn seps.map(pSeperator)\n\t}\n\tfunction pBlock(block: Block): Doc {\n\t\ttype SimpleRelation = StochasticRelation | DeterministicRelation;\n\t\ttype BlockSection = SimpleRelationSection | IndexedRelation | SeperatorSection;\n\t\tinterface SimpleRelationSection {\n\t\t\tkind: 'srs';\n\t\t\trels: { r: SimpleRelation, c?: Comment }[];\n\t\t}\n\t\tinterface SeperatorSection {\n\t\t\tkind: 'ss';\n\t\t\tsep: SeperatorItem[];\n\t\t}\n\t\tfunction group(block: Block): BlockSection[] {\n\t\t\tconst result: BlockSection[] = [];\n\t\t\tfunction pushSep(sep: SeperatorItem[]) {\n\t\t\t\tif (sep.length > 0 && sep[0].kind === 'newline') {\n\t\t\t\t\tsep = sep.slice(1)\n\t\t\t\t}\n\t\t\t\tif (sep.length > 0) {\n\t\t\t\t\tresult.push({ kind: 'ss', sep })\n\t\t\t\t}\n\t\t\t}\n\t\t\tpushSep(block.seperators[0])\n\t\t\tfor (let i = 0; i < block.relations.length; i++) {\n\t\t\t\tconst r = block.relations[i];\n\t\t\t\tlet c = block.seperators[i + 1];\n\t\t\t\tif (r.kind === 'for') {\n\t\t\t\t\tresult.push(r)\n\t\t\t\t\tpushSep(c)\n\t\t\t\t} else {\n\t\t\t\t\tconst last = result.length > 0 ? result[result.length - 1] : undefined;\n\t\t\t\t\tlet lastSrs: SimpleRelationSection;\n\t\t\t\t\tif (last !== undefined && last.kind === 'srs') {\n\t\t\t\t\t\tlast.rels.push({ r })\n\t\t\t\t\t\tlastSrs = last;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlastSrs = { kind: 'srs', rels: [{ r }] }\n\t\t\t\t\t\tresult.push(lastSrs)\n\t\t\t\t\t}\n\t\t\t\t\tif (c.length > 0 && c[0].kind === 'comment') {\n\t\t\t\t\t\tlastSrs.rels[lastSrs.rels.length - 1].c = c[0]\n\t\t\t\t\t\tc[0] = { kind: 'newline' }\n\t\t\t\t\t}\n\t\t\t\t\tpushSep(c)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tconst blockSections = group(block);\n\t\treturn PP.vconcat(blockSections.map((bc) => {\n\t\t\tif (bc.kind === 'for') {\n\t\t\t\treturn pRelation(bc)\n\t\t\t} else if (bc.kind === 'srs') {\n\t\t\t\treturn PP.equations(bc.rels.map(({ r, c }) => {\n\t\t\t\t\tlet suffix = (c === undefined\n\t\t\t\t\t\t? PP.text('')\n\t\t\t\t\t\t: PP.fconcat([PP.text(' '), pComment(c)]))\n\t\t\t\t\tif (r.kind === '=') {\n\t\t\t\t\t\treturn [pExp(r.lhs), ' <- ', PP.fconcat([pExp(r.rhs), suffix])]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuffix = PP.fconcat([pCTI(r.cti), suffix])\n\t\t\t\t\t\treturn [pExp(r.lhs), ' ~ ', PP.fconcat([pExp(r.rhs), suffix])]\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t} else {\n\t\t\t\treturn PP.vconcat(pSeperators(bc.sep))\n\t\t\t}\n\t\t}))\n\t}\n\tfunction pRelation(rel: Relation): Doc {\n\t\tif (rel.kind === 'for') {\n\t\t\treturn PP.vconcat([\n\t\t\t\tPP.fconcat([\n\t\t\t\t\tPP.text(\"for (\"),\n\t\t\t\t\tpName(rel.name),\n\t\t\t\t\tPP.text(\" in \"),\n\t\t\t\t\tpExp(rel.domain),\n\t\t\t\t\tPP.text(\") {\")\n\t\t\t\t]),\n\t\t\t\tPP.nest(pBlock(rel.body)),\n\t\t\t\tPP.text(\"}\")\n\t\t\t])\n\t\t} else if (rel.kind === \"=\") {\n\t\t\treturn PP.vconcat([\n\t\t\t\tPP.fconcat([\n\t\t\t\t\tpExp(rel.lhs),\n\t\t\t\t\tPP.text(' <- '),\n\t\t\t\t\tpExp(rel.rhs),\n\t\t\t\t]),\n\t\t\t])\n\t\t} else {\n\t\t\treturn PP.vconcat([\n\t\t\t\tPP.fconcat([\n\t\t\t\t\tpExp(rel.lhs),\n\t\t\t\t\tPP.text(' ~ '),\n\t\t\t\t\tpExp(rel.rhs),\n\t\t\t\t\tpCTI(rel.cti),\n\t\t\t\t]),\n\t\t\t])\n\t\t}\n\t}\n\tfunction pList(list: List): Doc {\n\t\treturn PP.fconcat([\n\t\t\tPP.text(\"list(\"),\n\t\t\t...Seq.intersperse(\n\t\t\t\tPP.text(', '),\n\t\t\t\tlist.content.map(([name, exp]) => {\n\t\t\t\t\treturn PP.fconcat([pName(name), PP.text(' = '), pListExp(exp)])\n\t\t\t\t})),\n\t\t\tPP.text(')')\n\t\t])\n\t}\n\tfunction pSection(s: Section): Doc {\n\t\treturn PP.vconcat([\n\t\t\tPP.vconcat([\n\t\t\t\tPP.text(s.kind),\n\t\t\t\tPP.text(\"{\"),\n\t\t\t]),\n\t\t\tPP.nest(pBlock(s.body)),\n\t\t\tPP.fconcat([PP.text(\"}\")])\n\t\t])\n\t}\n\tfunction pProgram(p: Program): Doc {\n\t\tlet before = p.before;\n\t\tlet after = p.after;\n\t\twhile (after.length > 0 && after[after.length - 1].kind === 'newline') {\n\t\t\tafter = after.slice(0, -1)\n\t\t}\n\t\treturn PP.vconcat([\n\t\t\t...pSeperators(before),\n\t\t\tpProgramBody(p.body),\n\t\t\t...pSeperators(after)\n\t\t])\n\t}\n\tfunction pProgramBody(p: ProgramBody): Doc {\n\t\tif (p.kind === 'list') {\n\t\t\treturn pList(p)\n\t\t} if (p.kind === 'table') {\n\t\t\treturn PP.vconcat([\n\t\t\t\tPP.fconcat(Seq.intersperse(PP.text(' '), p.header.map((name) => PP.fconcat([pName(name), PP.text('[]')])))),\n\t\t\t\tPP.vconcat(\n\t\t\t\t\tp.body.map((row) => {\n\t\t\t\t\t\treturn PP.fconcat(Seq.intersperse(PP.text(' '), row.map(pScalar)))\n\t\t\t\t\t})\n\t\t\t\t),\n\t\t\t\tPP.text('END')\n\t\t\t])\n\t\t} else {\n\t\t\treturn PP.vconcat(p.content.map(pSection))\n\t\t}\n\t}\n\treturn PP.toString(pProgram(p));\n}\n"],
  "mappings": "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",
  "names": []
}
